(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{1625:function(){},8303:function(t,e,i){"use strict";i.d(e,{R:function(){return b}});var r=i(4985),o=i(7449),n=i(1348),s=i(5699),a=i(9652),l=i(4486),h=i(8503),c=i(231),u=i(3604),d=i(5943),_=i(7199),f="SearchBox",p={root:{height:"auto"},icon:{fontSize:"12px"}},v={iconName:"Clear"},g={ariaLabel:"Clear text"},C=(0,s.y)(),m=n.forwardRef((function(t,e){var i=t.ariaLabel,r=t.className,s=t.defaultValue,m=void 0===s?"":s,y=t.disabled,w=t.underlined,L=t.styles,b=t.labelText,x=t.placeholder,R=void 0===x?b:x,M=t.theme,E=t.clearButtonProps,A=void 0===E?g:E,S=t.disableAnimation,D=void 0!==S&&S,T=t.showIcon,I=void 0!==T&&T,B=t.onClear,F=t.onBlur,k=t.onEscape,P=t.onSearch,O=t.onKeyDown,W=t.iconProps,H=t.role,N=t.onChange,U=t.onChanged,z=n.useState(!1),j=z[0],G=z[1],Y=n.useRef(),X=(0,h.G)(t.value,m,(function(t,e){t&&t.timeStamp===Y.current||(Y.current=null===t||void 0===t?void 0:t.timeStamp,null===N||void 0===N||N(t,e),null===U||void 0===U||U(e))})),V=X[0],q=X[1],J=String(V),K=n.useRef(null),$=n.useRef(null),Z=(0,c.r)(K,e),Q=(0,u.M)(f,t.id),tt=A.onClick,et=C(L,{theme:M,className:r,underlined:w,hasFocus:j,disabled:y,hasInput:J.length>0,disableAnimation:D,showIcon:I}),it=(0,a.pq)(t,a.Gg,["className","placeholder","onFocus","onBlur","value","role"]),rt=n.useCallback((function(t){var e;null===B||void 0===B||B(t),t.defaultPrevented||(q(""),null===(e=$.current)||void 0===e||e.focus(),t.stopPropagation(),t.preventDefault())}),[B,q]),ot=n.useCallback((function(t){null===tt||void 0===tt||tt(t),t.defaultPrevented||rt(t)}),[tt,rt]),nt=n.useCallback((function(t){G(!1),null===F||void 0===F||F(t)}),[F]),st=function(t){q(t.target.value,t)};return function(t,e,i){n.useImperativeHandle(t,(function(){return{focus:function(){var t;return null===(t=e.current)||void 0===t?void 0:t.focus()},hasFocus:function(){return i}}}),[e,i])}(t.componentRef,$,j),n.createElement("div",{role:H,ref:Z,className:et.root,onFocusCapture:function(e){var i;G(!0),null===(i=t.onFocus)||void 0===i||i.call(t,e)}},n.createElement("div",{className:et.iconContainer,onClick:function(){$.current&&($.current.focus(),$.current.selectionStart=$.current.selectionEnd=0)},"aria-hidden":!0},n.createElement(_.J,(0,o.pi)({iconName:"Search"},W,{className:et.icon}))),n.createElement("input",(0,o.pi)({},it,{id:Q,className:et.field,placeholder:R,onChange:st,onInput:st,onBlur:nt,onKeyDown:function(t){switch(t.which){case l.m.escape:null===k||void 0===k||k(t),J&&!t.defaultPrevented&&rt(t);break;case l.m.enter:P&&(P(J),t.preventDefault(),t.stopPropagation());break;default:null===O||void 0===O||O(t),t.defaultPrevented&&t.stopPropagation()}},value:J,disabled:y,role:"searchbox","aria-label":i,ref:$})),J.length>0&&n.createElement("div",{className:et.clearButton},n.createElement(d.h,(0,o.pi)({onBlur:nt,styles:p,iconProps:v},A,{onClick:ot}))))}));m.displayName=f;var y=i(8491),w=i(6549),L={root:"ms-SearchBox",iconContainer:"ms-SearchBox-iconContainer",icon:"ms-SearchBox-icon",clearButton:"ms-SearchBox-clearButton",field:"ms-SearchBox-field"};var b=(0,r.z)(m,(function(t){var e,i,r,o,n,s=t.theme,a=t.underlined,l=t.disabled,h=t.hasFocus,c=t.className,u=t.hasInput,d=t.disableAnimation,_=t.showIcon,f=s.palette,p=s.fonts,v=s.semanticColors,g=s.effects,C=(0,y.Cn)(L,s),m={color:v.inputPlaceholderText,opacity:1},b=f.neutralSecondary,x=f.neutralPrimary,R=f.neutralLighter,M=f.neutralLighter,E=f.neutralLighter;return{root:[C.root,p.medium,y.Fv,{color:v.inputText,backgroundColor:v.inputBackground,display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",padding:"1px 0 1px 4px",borderRadius:g.roundedCorner2,border:"1px solid "+v.inputBorder,height:32,selectors:(e={},e[y.qJ]={borderColor:"WindowText"},e[":hover"]={borderColor:v.inputBorderHovered,selectors:(i={},i[y.qJ]={borderColor:"Highlight"},i)},e[":hover ."+C.iconContainer]={color:v.inputIconHovered},e)},!h&&u&&{selectors:(r={},r[":hover ."+C.iconContainer]={width:4},r[":hover ."+C.icon]={opacity:0,pointerEvents:"none"},r)},h&&["is-active",{position:"relative"},(0,y.$Y)(v.inputFocusBorderAlt,a?0:g.roundedCorner2,a?"borderBottom":"border")],_&&[{selectors:(o={},o[":hover ."+C.iconContainer]={width:32},o[":hover ."+C.icon]={opacity:1},o)}],l&&["is-disabled",{borderColor:R,backgroundColor:E,pointerEvents:"none",cursor:"default",selectors:(n={},n[y.qJ]={borderColor:"GrayText"},n)}],a&&["is-underlined",{borderWidth:"0 0 1px 0",borderRadius:0,padding:"1px 0 1px 8px"}],a&&l&&{backgroundColor:"transparent"},u&&"can-clear",c],iconContainer:[C.iconContainer,{display:"flex",flexDirection:"column",justifyContent:"center",flexShrink:0,fontSize:16,width:32,textAlign:"center",color:v.inputIcon,cursor:"text"},h&&{width:4},l&&{color:v.inputIconDisabled},!d&&{transition:"width "+y.D1.durationValue1},_&&h&&{width:32}],icon:[C.icon,{opacity:1},h&&{opacity:0,pointerEvents:"none"},!d&&{transition:"opacity "+y.D1.durationValue1+" 0s"},_&&h&&{opacity:1}],clearButton:[C.clearButton,{display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",flexBasis:"32px",flexShrink:0,padding:0,margin:"-1px 0px",selectors:{"&:hover .ms-Button":{backgroundColor:M},"&:hover .ms-Button-icon":{color:x},".ms-Button":{borderRadius:(0,w.zg)(s)?"1px 0 0 1px":"0 1px 1px 0"},".ms-Button-icon":{color:b}}}],field:[C.field,y.Fv,(0,y.Sv)(m),{backgroundColor:"transparent",border:"none",outline:"none",fontWeight:"inherit",fontFamily:"inherit",fontSize:"inherit",color:v.inputText,flex:"1 1 0px",minWidth:"0px",overflow:"hidden",textOverflow:"ellipsis",paddingBottom:.5,selectors:{"::-ms-clear":{display:"none"}}},l&&{color:v.disabledText}]}}),void 0,{scope:"SearchBox"})},7410:function(t){self,t.exports=(()=>{"use strict";var t={775:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FitAddon=void 0;var i=function(){function t(){}return t.prototype.activate=function(t){this._terminal=t},t.prototype.dispose=function(){},t.prototype.fit=function(){var t=this.proposeDimensions();if(t&&this._terminal){var e=this._terminal._core;this._terminal.rows===t.rows&&this._terminal.cols===t.cols||(e._renderService.clear(),this._terminal.resize(t.cols,t.rows))}},t.prototype.proposeDimensions=function(){if(this._terminal&&this._terminal.element&&this._terminal.element.parentElement){var t=this._terminal._core;if(0!==t._renderService.dimensions.actualCellWidth&&0!==t._renderService.dimensions.actualCellHeight){var e=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(e.getPropertyValue("height")),r=Math.max(0,parseInt(e.getPropertyValue("width"))),o=window.getComputedStyle(this._terminal.element),n=i-(parseInt(o.getPropertyValue("padding-top"))+parseInt(o.getPropertyValue("padding-bottom"))),s=r-(parseInt(o.getPropertyValue("padding-right"))+parseInt(o.getPropertyValue("padding-left")))-t.viewport.scrollBarWidth;return{cols:Math.max(2,Math.floor(s/t._renderService.dimensions.actualCellWidth)),rows:Math.max(1,Math.floor(n/t._renderService.dimensions.actualCellHeight))}}}},t}();e.FitAddon=i}},e={};return function i(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,i),o.exports}(775)})()},6723:function(t){self,t.exports=(()=>{"use strict";var t={258:function(t,e,i){var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.SearchAddon=void 0;var o=i(345),n=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?",s=function(){function t(){this._linesCacheTimeoutId=0,this._onDidChangeResults=new o.EventEmitter,this.onDidChangeResults=this._onDidChangeResults.event}return t.prototype.activate=function(t){var e=this;this._terminal=t,this._onDataDisposable=this._terminal.onWriteParsed((function(){return e._updateMatches()})),this._onResizeDisposable=this._terminal.onResize((function(){return e._updateMatches()}))},t.prototype._updateMatches=function(){var t,e=this;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&(null===(t=this._lastSearchOptions)||void 0===t?void 0:t.decorations)&&(this._highlightTimeout=setTimeout((function(){var t,i;e.findPrevious(e._cachedSearchTerm,r(r({},e._lastSearchOptions),{incremental:!0,noScroll:!0})),e._resultIndex=e._searchResults?e._searchResults.size-1:-1,e._onDidChangeResults.fire({resultIndex:e._resultIndex,resultCount:null!==(i=null===(t=e._searchResults)||void 0===t?void 0:t.size)&&void 0!==i?i:-1})}),200))},t.prototype.dispose=function(){var t,e;this.clearDecorations(),null===(t=this._onDataDisposable)||void 0===t||t.dispose(),null===(e=this._onResizeDisposable)||void 0===e||e.dispose()},t.prototype.clearDecorations=function(t){var e,i,r,o;null===(e=this._selectedDecoration)||void 0===e||e.dispose(),null===(i=this._searchResults)||void 0===i||i.clear(),null===(r=this._resultDecorations)||void 0===r||r.forEach((function(t){for(var e=0,i=t;e<i.length;e++)i[e].dispose()})),null===(o=this._resultDecorations)||void 0===o||o.clear(),this._searchResults=void 0,this._resultDecorations=void 0,t||(this._cachedSearchTerm=void 0)},t.prototype.clearActiveDecoration=function(){var t;null===(t=this._selectedDecoration)||void 0===t||t.dispose(),this._selectedDecoration=void 0},t.prototype.findNext=function(t,e){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._lastSearchOptions=e,(null==e?void 0:e.decorations)&&(void 0===this._resultIndex&&void 0!==this._cachedSearchTerm&&t===this._cachedSearchTerm||this._highlightAllMatches(t,e)),this._fireResults(t,this._findNextAndSelect(t,e),e)},t.prototype._highlightAllMatches=function(t,e){var i=this;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(t&&0!==t.length){e=e||{},this.clearDecorations(!0),this._searchResults=new Map,this._resultDecorations=new Map;for(var r=this._resultDecorations,o=this._find(t,0,0,e);o&&!this._searchResults.get(o.row+"-"+o.col);)if(this._searchResults.set(o.row+"-"+o.col,o),o=this._find(t,o.col+o.term.length>=this._terminal.cols?o.row+1:o.row,o.col+o.term.length>=this._terminal.cols?0:o.col+1,e),this._searchResults.size>1e3)return this.clearDecorations(),void(this._resultIndex=void 0);this._searchResults.forEach((function(t){var o=i._createResultDecoration(t,e.decorations);if(o){var n=r.get(o.marker.line)||[];n.push(o),r.set(o.marker.line,n)}}))}else this.clearDecorations()},t.prototype._find=function(t,e,i,r){var o;if(!this._terminal||!t||0===t.length)return null===(o=this._terminal)||void 0===o||o.clearSelection(),void this.clearDecorations();if(i>this._terminal.cols)throw new Error("Invalid col: "+i+" to search in terminal of "+this._terminal.cols+" cols");var n=void 0;this._initLinesCache();var s={startRow:e,startCol:i};if(!(n=this._findInLine(t,s,r)))for(var a=e+1;a<this._terminal.buffer.active.baseY+this._terminal.rows&&(s.startRow=a,s.startCol=0,!(n=this._findInLine(t,s,r)));a++);return n},t.prototype._findNextAndSelect=function(t,e){var i;if(!this._terminal||!t||0===t.length)return null===(i=this._terminal)||void 0===i||i.clearSelection(),this.clearDecorations(),this._cachedSearchTerm=void 0,this._resultIndex=-1,!1;this._cachedSearchTerm!==t&&(this._resultIndex=void 0,this._terminal.clearSelection());var r,o=0,n=0;if(this._terminal.hasSelection()){var s=!!e&&e.incremental;r=this._terminal.getSelectionPosition(),n=s?r.startRow:r.endRow,o=s?r.startColumn:r.endColumn}this._initLinesCache();var a={startRow:n,startCol:o},l=this._findInLine(t,a,e);if(!l)for(var h=n+1;h<this._terminal.buffer.active.baseY+this._terminal.rows&&(a.startRow=h,a.startCol=0,!(l=this._findInLine(t,a,e)));h++);if(!l&&0!==n)for(h=0;h<n&&(a.startRow=h,a.startCol=0,!(l=this._findInLine(t,a,e)));h++);return!l&&r&&(a.startRow=r.startRow,a.startCol=0,l=this._findInLine(t,a,e)),this._searchResults&&(0===this._searchResults.size?this._resultIndex=-1:void 0===this._resultIndex?this._resultIndex=0:(this._resultIndex++,this._resultIndex>=this._searchResults.size&&(this._resultIndex=0))),this._selectResult(l,null==e?void 0:e.decorations,null==e?void 0:e.noScroll)},t.prototype.findPrevious=function(t,e){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");return this._lastSearchOptions=e,(null==e?void 0:e.decorations)&&(void 0===this._resultIndex&&void 0!==this._cachedSearchTerm&&t===this._cachedSearchTerm||this._highlightAllMatches(t,e)),this._fireResults(t,this._findPreviousAndSelect(t,e),e)},t.prototype._fireResults=function(t,e,i){var r;return(null==i?void 0:i.decorations)&&(void 0!==this._resultIndex&&void 0!==(null===(r=this._searchResults)||void 0===r?void 0:r.size)?this._onDidChangeResults.fire({resultIndex:this._resultIndex,resultCount:this._searchResults.size}):this._onDidChangeResults.fire(void 0)),this._cachedSearchTerm=t,e},t.prototype._findPreviousAndSelect=function(t,e){var i,r;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||0===t.length)return r=void 0,null===(i=this._terminal)||void 0===i||i.clearSelection(),this.clearDecorations(),this._resultIndex=-1,!1;this._cachedSearchTerm!==t&&(this._resultIndex=void 0,this._terminal.clearSelection());var o,n=this._terminal.buffer.active.baseY+this._terminal.rows,s=this._terminal.cols,a=!0,l=!!e&&e.incremental;this._terminal.hasSelection()&&(n=(o=this._terminal.getSelectionPosition()).startRow,s=o.startColumn),this._initLinesCache();var h={startRow:n,startCol:s};if(l?(r=this._findInLine(t,h,e,!1))&&r.row===n&&r.col===s||(o&&(h.startRow=o.endRow,h.startCol=o.endColumn),r=this._findInLine(t,h,e,!0)):r=this._findInLine(t,h,e,a),!r){h.startCol=Math.max(h.startCol,this._terminal.cols);for(var c=n-1;c>=0&&(h.startRow=c,!(r=this._findInLine(t,h,e,a)));c--);}if(!r&&n!==this._terminal.buffer.active.baseY+this._terminal.rows)for(c=this._terminal.buffer.active.baseY+this._terminal.rows;c>=n&&(h.startRow=c,!(r=this._findInLine(t,h,e,a)));c--);return this._searchResults&&(0===this._searchResults.size?this._resultIndex=-1:void 0===this._resultIndex||this._resultIndex<0?this._resultIndex=this._searchResults.size-1:(this._resultIndex--,-1===this._resultIndex&&(this._resultIndex=this._searchResults.size-1))),!(r||!o)||this._selectResult(r,null==e?void 0:e.decorations,null==e?void 0:e.noScroll)},t.prototype._initLinesCache=function(){var t=this,e=this._terminal;this._linesCache||(this._linesCache=new Array(e.buffer.active.length),this._cursorMoveListener=e.onCursorMove((function(){return t._destroyLinesCache()})),this._resizeListener=e.onResize((function(){return t._destroyLinesCache()}))),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout((function(){return t._destroyLinesCache()}),15e3)},t.prototype._destroyLinesCache=function(){this._linesCache=void 0,this._cursorMoveListener&&(this._cursorMoveListener.dispose(),this._cursorMoveListener=void 0),this._resizeListener&&(this._resizeListener.dispose(),this._resizeListener=void 0),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)},t.prototype._isWholeWord=function(t,e,i){return(0===t||n.includes(e[t-1]))&&(t+i.length===e.length||n.includes(e[t+i.length]))},t.prototype._findInLine=function(t,e,i,r){var o;void 0===i&&(i={}),void 0===r&&(r=!1);var n=this._terminal,s=e.startRow,a=e.startCol,l=n.buffer.active.getLine(s);if(null==l?void 0:l.isWrapped)return r?void(e.startCol+=n.cols):(e.startRow--,e.startCol+=n.cols,this._findInLine(t,e,i));var h=null===(o=this._linesCache)||void 0===o?void 0:o[s];h||(h=this._translateBufferLineToStringWithWrap(s,!0),this._linesCache&&(this._linesCache[s]=h));var c=h[0],u=h[1],d=this._bufferColsToStringOffset(s,a),_=i.caseSensitive?t:t.toLowerCase(),f=i.caseSensitive?c:c.toLowerCase(),p=-1;if(i.regex){var v=RegExp(_,"g"),g=void 0;if(r)for(;g=v.exec(f.slice(0,d));)p=v.lastIndex-g[0].length,t=g[0],v.lastIndex-=t.length-1;else(g=v.exec(f.slice(d)))&&g[0].length>0&&(p=d+(v.lastIndex-g[0].length),t=g[0])}else r?d-_.length>=0&&(p=f.lastIndexOf(_,d-_.length)):p=f.indexOf(_,d);if(p>=0){if(i.wholeWord&&!this._isWholeWord(p,f,t))return;for(var C=0;C<u.length-1&&p>=u[C+1];)C++;for(var m=C;m<u.length-1&&p+t.length>=u[m+1];)m++;var y=p-u[C],w=p+t.length-u[m],L=this._stringLengthToBufferSize(s+C,y);return{term:t,col:L,row:s+C,size:this._stringLengthToBufferSize(s+m,w)-L+n.cols*(m-C)}}},t.prototype._stringLengthToBufferSize=function(t,e){var i=this._terminal.buffer.active.getLine(t);if(!i)return 0;for(var r=0;r<e;r++){var o=i.getCell(r);if(!o)break;var n=o.getChars();n.length>1&&(e-=n.length-1);var s=i.getCell(r+1);s&&0===s.getWidth()&&e++}return e},t.prototype._bufferColsToStringOffset=function(t,e){for(var i=this._terminal,r=t,o=0,n=i.buffer.active.getLine(r);e>0&&n;){for(var s=0;s<e&&s<i.cols;s++){var a=n.getCell(s);if(!a)break;a.getWidth()&&(o+=0===a.getCode()?1:a.getChars().length)}if(r++,(n=i.buffer.active.getLine(r))&&!n.isWrapped)break;e-=i.cols}return o},t.prototype._translateBufferLineToStringWithWrap=function(t,e){for(var i,r=this._terminal,o=[],n=[0],s=r.buffer.active.getLine(t);s;){var a=r.buffer.active.getLine(t+1),l=!!a&&a.isWrapped,h=s.translateToString(!l&&e);if(l&&a){var c=s.getCell(s.length-1);c&&0===c.getCode()&&1===c.getWidth()&&2===(null===(i=a.getCell(0))||void 0===i?void 0:i.getWidth())&&(h=h.slice(0,-1))}if(o.push(h),!l)break;n.push(n[n.length-1]+h.length),t++,s=a}return[o.join(""),n]},t.prototype._selectResult=function(t,e,i){var r,o,n=this,s=this._terminal;if(this.clearActiveDecoration(),!t)return s.clearSelection(),!1;if(s.select(t.col,t.row,t.size),e){var a=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);a&&(this._selectedDecoration=s.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:e.activeMatchBackground,layer:"top",overviewRulerOptions:{color:e.activeMatchColorOverviewRuler}}),null===(r=this._selectedDecoration)||void 0===r||r.onRender((function(t){return n._applyStyles(t,e.activeMatchBorder,!0)})),null===(o=this._selectedDecoration)||void 0===o||o.onDispose((function(){return a.dispose()})))}if(!i&&(t.row>=s.buffer.active.viewportY+s.rows||t.row<s.buffer.active.viewportY)){var l=t.row-s.buffer.active.viewportY;l-=Math.floor(s.rows/2),s.scrollLines(l)}return!0},t.prototype._applyStyles=function(t,e,i){t.clientWidth<=0||(t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),e&&(t.style.outline="1px solid "+e)),i&&t.classList.add("xterm-find-active-result-decoration"))},t.prototype._createResultDecoration=function(t,e){var i,r=this,o=this._terminal,n=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+t.row);if(n){var s=o.registerDecoration({marker:n,x:t.col,width:t.size,backgroundColor:e.matchBackground,overviewRulerOptions:(null===(i=this._resultDecorations)||void 0===i?void 0:i.get(n.line))?void 0:{color:e.matchOverviewRuler,position:"center"}});return null==s||s.onRender((function(t){return r._applyStyles(t,e.matchBorder,!1)})),null==s||s.onDispose((function(){return n.dispose()})),s}},t}();e.SearchAddon=s},345:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forwardEvent=e.EventEmitter=void 0;var i=function(){function t(){this._listeners=[],this._disposed=!1}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(e){return t._listeners.push(e),{dispose:function(){if(!t._disposed)for(var i=0;i<t._listeners.length;i++)if(t._listeners[i]===e)return void t._listeners.splice(i,1)}}}),this._event},enumerable:!1,configurable:!0}),t.prototype.fire=function(t,e){for(var i=[],r=0;r<this._listeners.length;r++)i.push(this._listeners[r]);for(r=0;r<i.length;r++)i[r].call(void 0,t,e)},t.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},t}();e.EventEmitter=i,e.forwardEvent=function(t,e){return t((function(t){return e.fire(t)}))}}},e={};return function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}(258)})()},1725:function(t){self,t.exports=(()=>{"use strict";var t={965:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphRenderer=void 0;var r=i(381),o=i(455),n=i(855),s=10,a=s*Float32Array.BYTES_PER_ELEMENT,l=function(){function t(t,e,i,o){this._terminal=t,this._colors=e,this._gl=i,this._dimensions=o,this._activeBuffer=0,this._vertices={count:0,attributes:new Float32Array(0),attributesBuffers:[new Float32Array(0),new Float32Array(0)]};var n=this._gl,s=(0,r.throwIfFalsy)((0,r.createProgram)(n,"#version 300 es\nlayout (location = 0) in vec2 a_unitquad;\nlayout (location = 1) in vec2 a_cellpos;\nlayout (location = 2) in vec2 a_offset;\nlayout (location = 3) in vec2 a_size;\nlayout (location = 4) in vec2 a_texcoord;\nlayout (location = 5) in vec2 a_texsize;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec2 v_texcoord;\n\nvoid main() {\n  vec2 zeroToOne = (a_offset / u_resolution) + a_cellpos + (a_unitquad * a_size);\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_texcoord = a_texcoord + a_unitquad * a_texsize;\n}","#version 300 es\nprecision lowp float;\n\nin vec2 v_texcoord;\n\nuniform sampler2D u_texture;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = texture(u_texture, v_texcoord);\n}"));this._program=s,this._projectionLocation=(0,r.throwIfFalsy)(n.getUniformLocation(this._program,"u_projection")),this._resolutionLocation=(0,r.throwIfFalsy)(n.getUniformLocation(this._program,"u_resolution")),this._textureLocation=(0,r.throwIfFalsy)(n.getUniformLocation(this._program,"u_texture")),this._vertexArrayObject=n.createVertexArray(),n.bindVertexArray(this._vertexArrayObject);var l=new Float32Array([0,0,1,0,0,1,1,1]),h=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,h),n.bufferData(n.ARRAY_BUFFER,l,n.STATIC_DRAW),n.enableVertexAttribArray(0),n.vertexAttribPointer(0,2,this._gl.FLOAT,!1,0,0);var c=new Uint8Array([0,1,3,0,2,3]),u=n.createBuffer();n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,u),n.bufferData(n.ELEMENT_ARRAY_BUFFER,c,n.STATIC_DRAW),this._attributesBuffer=(0,r.throwIfFalsy)(n.createBuffer()),n.bindBuffer(n.ARRAY_BUFFER,this._attributesBuffer),n.enableVertexAttribArray(2),n.vertexAttribPointer(2,2,n.FLOAT,!1,a,0),n.vertexAttribDivisor(2,1),n.enableVertexAttribArray(3),n.vertexAttribPointer(3,2,n.FLOAT,!1,a,2*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(3,1),n.enableVertexAttribArray(4),n.vertexAttribPointer(4,2,n.FLOAT,!1,a,4*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(4,1),n.enableVertexAttribArray(5),n.vertexAttribPointer(5,2,n.FLOAT,!1,a,6*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(5,1),n.enableVertexAttribArray(1),n.vertexAttribPointer(1,2,n.FLOAT,!1,a,8*Float32Array.BYTES_PER_ELEMENT),n.vertexAttribDivisor(1,1),this._atlasTexture=(0,r.throwIfFalsy)(n.createTexture()),n.bindTexture(n.TEXTURE_2D,this._atlasTexture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),this.onResize()}return t.prototype.beginFrame=function(){return!this._atlas||this._atlas.beginFrame()},t.prototype.updateCell=function(t,e,i,r,o,n){this._updateCell(this._vertices.attributes,t,e,i,r,o,n)},t.prototype._updateCell=function(t,e,i,r,a,l,h){var c,u=(i*this._terminal.cols+e)*s;r!==n.NULL_CELL_CODE&&void 0!==r?this._atlas&&((c=h&&h.length>1?this._atlas.getRasterizedGlyphCombinedChar(h,a,l):this._atlas.getRasterizedGlyph(r,a,l))?(t[u]=-c.offset.x+this._dimensions.scaledCharLeft,t[u+1]=-c.offset.y+this._dimensions.scaledCharTop,t[u+2]=c.size.x/this._dimensions.scaledCanvasWidth,t[u+3]=c.size.y/this._dimensions.scaledCanvasHeight,t[u+4]=c.texturePositionClipSpace.x,t[u+5]=c.texturePositionClipSpace.y,t[u+6]=c.sizeClipSpace.x,t[u+7]=c.sizeClipSpace.y):(0,o.fill)(t,0,u,u+s-1-2)):(0,o.fill)(t,0,u,u+s-1-2)},t.prototype.clear=function(t){var e=this._terminal,i=e.cols*e.rows*s;if(t||this._vertices.count!==i){this._vertices.count=i,this._vertices.attributes=new Float32Array(i);for(var r=0;r<this._vertices.attributesBuffers.length;r++)this._vertices.attributesBuffers[r]=new Float32Array(i);for(var o=0,n=0;n<e.rows;n++)for(var a=0;a<e.cols;a++)this._vertices.attributes[o+8]=a/e.cols,this._vertices.attributes[o+9]=n/e.rows,o+=s}},t.prototype.onResize=function(){var t=this._gl;t.viewport(0,0,t.canvas.width,t.canvas.height),this.clear()},t.prototype.setColors=function(){},t.prototype.render=function(t){if(this._atlas){var e=this._gl;e.useProgram(this._program),e.bindVertexArray(this._vertexArrayObject),this._activeBuffer=(this._activeBuffer+1)%2;for(var i=this._vertices.attributesBuffers[this._activeBuffer],o=0,n=0;n<t.lineLengths.length;n++){var a=n*this._terminal.cols*s,l=this._vertices.attributes.subarray(a,a+t.lineLengths[n]*s);i.set(l,o),o+=l.length}e.bindBuffer(e.ARRAY_BUFFER,this._attributesBuffer),e.bufferData(e.ARRAY_BUFFER,i.subarray(0,o),e.STREAM_DRAW),this._atlas.hasCanvasChanged&&(this._atlas.hasCanvasChanged=!1,e.uniform1i(this._textureLocation,0),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,this._atlasTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._atlas.cacheCanvas),e.generateMipmap(e.TEXTURE_2D)),e.uniformMatrix4fv(this._projectionLocation,!1,r.PROJECTION_MATRIX),e.uniform2f(this._resolutionLocation,e.canvas.width,e.canvas.height),e.drawElementsInstanced(e.TRIANGLES,6,e.UNSIGNED_BYTE,0,o/s)}},t.prototype.setAtlas=function(t){var e=this._gl;this._atlas=t,e.bindTexture(e.TEXTURE_2D,this._atlasTexture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t.cacheCanvas),e.generateMipmap(e.TEXTURE_2D)},t.prototype.setDimensions=function(t){this._dimensions=t},t}();e.GlyphRenderer=l},742:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RectangleRenderer=void 0;var r=i(381),o=i(310),n=8*Float32Array.BYTES_PER_ELEMENT,s=function(){function t(t,e,i,o){this._terminal=t,this._colors=e,this._gl=i,this._dimensions=o,this._vertices={count:0,attributes:new Float32Array(160)};var s=this._gl;this._program=(0,r.throwIfFalsy)((0,r.createProgram)(s,"#version 300 es\nlayout (location = 0) in vec2 a_position;\nlayout (location = 1) in vec2 a_size;\nlayout (location = 2) in vec4 a_color;\nlayout (location = 3) in vec2 a_unitquad;\n\nuniform mat4 u_projection;\nuniform vec2 u_resolution;\n\nout vec4 v_color;\n\nvoid main() {\n  vec2 zeroToOne = (a_position + (a_unitquad * a_size)) / u_resolution;\n  gl_Position = u_projection * vec4(zeroToOne, 0.0, 1.0);\n  v_color = a_color;\n}","#version 300 es\nprecision lowp float;\n\nin vec4 v_color;\n\nout vec4 outColor;\n\nvoid main() {\n  outColor = v_color;\n}")),this._resolutionLocation=(0,r.throwIfFalsy)(s.getUniformLocation(this._program,"u_resolution")),this._projectionLocation=(0,r.throwIfFalsy)(s.getUniformLocation(this._program,"u_projection")),this._vertexArrayObject=s.createVertexArray(),s.bindVertexArray(this._vertexArrayObject);var a=new Float32Array([0,0,1,0,0,1,1,1]),l=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,l),s.bufferData(s.ARRAY_BUFFER,a,s.STATIC_DRAW),s.enableVertexAttribArray(3),s.vertexAttribPointer(3,2,this._gl.FLOAT,!1,0,0);var h=new Uint8Array([0,1,3,0,2,3]),c=s.createBuffer();s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,c),s.bufferData(s.ELEMENT_ARRAY_BUFFER,h,s.STATIC_DRAW),this._attributesBuffer=(0,r.throwIfFalsy)(s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this._attributesBuffer),s.enableVertexAttribArray(0),s.vertexAttribPointer(0,2,s.FLOAT,!1,n,0),s.vertexAttribDivisor(0,1),s.enableVertexAttribArray(1),s.vertexAttribPointer(1,2,s.FLOAT,!1,n,2*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(1,1),s.enableVertexAttribArray(2),s.vertexAttribPointer(2,4,s.FLOAT,!1,n,4*Float32Array.BYTES_PER_ELEMENT),s.vertexAttribDivisor(2,1),this._updateCachedColors()}return t.prototype.render=function(){var t=this._gl;t.useProgram(this._program),t.bindVertexArray(this._vertexArrayObject),t.uniformMatrix4fv(this._projectionLocation,!1,r.PROJECTION_MATRIX),t.uniform2f(this._resolutionLocation,t.canvas.width,t.canvas.height),t.bindBuffer(t.ARRAY_BUFFER,this._attributesBuffer),t.bufferData(t.ARRAY_BUFFER,this._vertices.attributes,t.DYNAMIC_DRAW),t.drawElementsInstanced(this._gl.TRIANGLES,6,t.UNSIGNED_BYTE,0,this._vertices.count)},t.prototype.onResize=function(){this._updateViewportRectangle()},t.prototype.setColors=function(){this._updateCachedColors(),this._updateViewportRectangle()},t.prototype._updateCachedColors=function(){this._bgFloat=this._colorToFloat32Array(this._colors.background)},t.prototype._updateViewportRectangle=function(){this._addRectangleFloat(this._vertices.attributes,0,0,0,this._terminal.cols*this._dimensions.scaledCellWidth,this._terminal.rows*this._dimensions.scaledCellHeight,this._bgFloat)},t.prototype.updateBackgrounds=function(t){for(var e=this._terminal,i=this._vertices,r=1,n=0;n<e.rows;n++){for(var s=-1,a=0,l=0,h=!1,c=0;c<e.cols;c++){var u=(n*e.cols+c)*o.RENDER_MODEL_INDICIES_PER_CELL,d=t.cells[u+o.RENDER_MODEL_BG_OFFSET],_=t.cells[u+o.RENDER_MODEL_FG_OFFSET],f=!!(67108864&_);if(d!==a||_!==l&&(h||f)){if(0!==a||h&&0!==l){var p=8*r++;this._updateRectangle(i,p,l,a,s,c,n)}s=c,a=d,l=_,h=f}}(0!==a||h&&0!==l)&&(p=8*r++,this._updateRectangle(i,p,l,a,s,e.cols,n))}i.count=r},t.prototype._updateRectangle=function(t,e,i,o,n,s,a){var l;if(67108864&i)switch(50331648&i){case 16777216:case 33554432:l=this._colors.ansi[255&i].rgba;break;case 50331648:l=(16777215&i)<<8;break;default:l=this._colors.foreground.rgba}else switch(50331648&o){case 16777216:case 33554432:l=this._colors.ansi[255&o].rgba;break;case 50331648:l=(16777215&o)<<8;break;default:l=this._colors.background.rgba}t.attributes.length<e+4&&(t.attributes=(0,r.expandFloat32Array)(t.attributes,this._terminal.rows*this._terminal.cols*8));var h=n*this._dimensions.scaledCellWidth,c=a*this._dimensions.scaledCellHeight,u=(l>>24&255)/255,d=(l>>16&255)/255,_=(l>>8&255)/255;this._addRectangle(t.attributes,e,h,c,(s-n)*this._dimensions.scaledCellWidth,this._dimensions.scaledCellHeight,u,d,_,1)},t.prototype._addRectangle=function(t,e,i,r,o,n,s,a,l,h){t[e]=i,t[e+1]=r,t[e+2]=o,t[e+3]=n,t[e+4]=s,t[e+5]=a,t[e+6]=l,t[e+7]=h},t.prototype._addRectangleFloat=function(t,e,i,r,o,n,s){t[e]=i,t[e+1]=r,t[e+2]=o,t[e+3]=n,t[e+4]=s[0],t[e+5]=s[1],t[e+6]=s[2],t[e+7]=s[3]},t.prototype._colorToFloat32Array=function(t){return new Float32Array([(t.rgba>>24&255)/255,(t.rgba>>16&255)/255,(t.rgba>>8&255)/255,(255&t.rgba)/255])},t}();e.RectangleRenderer=s},310:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.RenderModel=e.COMBINED_CHAR_BIT_MASK=e.RENDER_MODEL_FG_OFFSET=e.RENDER_MODEL_BG_OFFSET=e.RENDER_MODEL_INDICIES_PER_CELL=void 0;var r=i(455);e.RENDER_MODEL_INDICIES_PER_CELL=3,e.RENDER_MODEL_BG_OFFSET=1,e.RENDER_MODEL_FG_OFFSET=2,e.COMBINED_CHAR_BIT_MASK=2147483648;var o=function(){function t(){this.cells=new Uint32Array(0),this.lineLengths=new Uint32Array(0),this.selection={hasSelection:!1,columnSelectMode:!1,viewportStartRow:0,viewportEndRow:0,viewportCappedStartRow:0,viewportCappedEndRow:0,startCol:0,endCol:0}}return t.prototype.resize=function(t,i){var r=t*i*e.RENDER_MODEL_INDICIES_PER_CELL;r!==this.cells.length&&(this.cells=new Uint32Array(r),this.lineLengths=new Uint32Array(i))},t.prototype.clear=function(){(0,r.fill)(this.cells,0,0),(0,r.fill)(this.lineLengths,0,0)},t.prototype.clearSelection=function(){this.selection.hasSelection=!1,this.selection.viewportStartRow=0,this.selection.viewportEndRow=0,this.selection.viewportCappedStartRow=0,this.selection.viewportCappedEndRow=0,this.selection.startCol=0,this.selection.endCol=0},t}();e.RenderModel=o},666:function(t,e,i){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.JoinedCellData=e.WebglRenderer=void 0;var s=i(965),a=i(733),l=i(461),h=i(713),c=i(742),u=i(310),d=i(859),_=i(855),f=i(345),p=i(782),v=i(820),g=i(147),C=function(t){function e(e,i,r,o,n){var h=t.call(this)||this;h._terminal=e,h._colors=i,h._characterJoinerService=r,h._decorationService=o,h._model=new u.RenderModel,h._workCell=new p.CellData,h._workColors={fg:0,bg:0},h._onRequestRedraw=new f.EventEmitter,h._onContextLoss=new f.EventEmitter,h._core=h._terminal._core,h._renderLayers=[new a.LinkRenderLayer(h._core.screenElement,2,h._colors,h._core),new l.CursorRenderLayer(e,h._core.screenElement,3,h._colors,h._core,h._onRequestRedraw)],h.dimensions={scaledCharWidth:0,scaledCharHeight:0,scaledCellWidth:0,scaledCellHeight:0,scaledCharLeft:0,scaledCharTop:0,scaledCanvasWidth:0,scaledCanvasHeight:0,canvasWidth:0,canvasHeight:0,actualCellWidth:0,actualCellHeight:0},h._devicePixelRatio=window.devicePixelRatio,h._updateDimensions(),h._canvas=document.createElement("canvas");var d={antialias:!1,depth:!1,preserveDrawingBuffer:n};if(h._gl=h._canvas.getContext("webgl2",d),!h._gl)throw new Error("WebGL2 not supported "+h._gl);return h.register((0,v.addDisposableDomListener)(h._canvas,"webglcontextlost",(function(t){h._onContextLoss.fire(t)}))),h._core.screenElement.appendChild(h._canvas),h._rectangleRenderer=new c.RectangleRenderer(h._terminal,h._colors,h._gl,h.dimensions),h._glyphRenderer=new s.GlyphRenderer(h._terminal,h._colors,h._gl,h.dimensions),h.onCharSizeChanged(),h._isAttached=document.body.contains(h._core.screenElement),h}return o(e,t),Object.defineProperty(e.prototype,"onRequestRedraw",{get:function(){return this._onRequestRedraw.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContextLoss",{get:function(){return this._onContextLoss.event},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){var e,i,r;try{for(var o=n(this._renderLayers),s=o.next();!s.done;s=o.next())s.value.dispose()}catch(t){e={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(e)throw e.error}}null===(r=this._canvas.parentElement)||void 0===r||r.removeChild(this._canvas),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"textureAtlas",{get:function(){var t;return null===(t=this._charAtlas)||void 0===t?void 0:t.cacheCanvas},enumerable:!1,configurable:!0}),e.prototype.setColors=function(t){var e,i;this._colors=t;try{for(var r=n(this._renderLayers),o=r.next();!o.done;o=r.next()){var s=o.value;s.setColors(this._terminal,this._colors),s.reset(this._terminal)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(e)throw e.error}}this._rectangleRenderer.setColors(),this._glyphRenderer.setColors(),this._refreshCharAtlas(),this._model.clear()},e.prototype.onDevicePixelRatioChange=function(){this._devicePixelRatio!==window.devicePixelRatio&&(this._devicePixelRatio=window.devicePixelRatio,this.onResize(this._terminal.cols,this._terminal.rows))},e.prototype.onResize=function(t,e){var i,r;this._updateDimensions(),this._model.resize(this._terminal.cols,this._terminal.rows);try{for(var o=n(this._renderLayers),s=o.next();!s.done;s=o.next())s.value.resize(this._terminal,this.dimensions)}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this._canvas.width=this.dimensions.scaledCanvasWidth,this._canvas.height=this.dimensions.scaledCanvasHeight,this._canvas.style.width=this.dimensions.canvasWidth+"px",this._canvas.style.height=this.dimensions.canvasHeight+"px",this._core.screenElement.style.width=this.dimensions.canvasWidth+"px",this._core.screenElement.style.height=this.dimensions.canvasHeight+"px",this._rectangleRenderer.onResize(),this._glyphRenderer.setDimensions(this.dimensions),this._glyphRenderer.onResize(),this._refreshCharAtlas(),this._model.clear()},e.prototype.onCharSizeChanged=function(){this.onResize(this._terminal.cols,this._terminal.rows)},e.prototype.onBlur=function(){var t,e;try{for(var i=n(this._renderLayers),r=i.next();!r.done;r=i.next())r.value.onBlur(this._terminal)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.onFocus=function(){var t,e;try{for(var i=n(this._renderLayers),r=i.next();!r.done;r=i.next())r.value.onFocus(this._terminal)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.onSelectionChanged=function(t,e,i){var r,o;try{for(var s=n(this._renderLayers),a=s.next();!a.done;a=s.next())a.value.onSelectionChanged(this._terminal,t,e,i)}catch(t){r={error:t}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this._updateSelectionModel(t,e,i),this._requestRedrawViewport()},e.prototype.onCursorMove=function(){var t,e;try{for(var i=n(this._renderLayers),r=i.next();!r.done;r=i.next())r.value.onCursorMove(this._terminal)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.onOptionsChanged=function(){var t,e;try{for(var i=n(this._renderLayers),r=i.next();!r.done;r=i.next())r.value.onOptionsChanged(this._terminal)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}this._updateDimensions(),this._refreshCharAtlas()},e.prototype._refreshCharAtlas=function(){if(this.dimensions.scaledCharWidth<=0&&this.dimensions.scaledCharHeight<=0)this._isAttached=!1;else{var t=(0,h.acquireCharAtlas)(this._terminal,this._colors,this.dimensions.scaledCellWidth,this.dimensions.scaledCellHeight,this.dimensions.scaledCharWidth,this.dimensions.scaledCharHeight);if(!("getRasterizedGlyph"in t))throw new Error("The webgl renderer only works with the webgl char atlas");this._charAtlas=t,this._charAtlas.warmUp(),this._glyphRenderer.setAtlas(this._charAtlas)}},e.prototype.clearCharAtlas=function(){var t;null===(t=this._charAtlas)||void 0===t||t.clearTexture(),this._model.clear(),this._updateModel(0,this._terminal.rows-1),this._requestRedrawViewport()},e.prototype.clear=function(){var t,e;this._model.clear(),this._glyphRenderer.clear(!0);try{for(var i=n(this._renderLayers),r=i.next();!r.done;r=i.next())r.value.reset(this._terminal)}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e.prototype.registerCharacterJoiner=function(t){return-1},e.prototype.deregisterCharacterJoiner=function(t){return!1},e.prototype.renderRows=function(t,e){var i,r;if(!this._isAttached){if(!(document.body.contains(this._core.screenElement)&&this._core._charSizeService.width&&this._core._charSizeService.height))return;this._updateDimensions(),this._refreshCharAtlas(),this._isAttached=!0}try{for(var o=n(this._renderLayers),s=o.next();!s.done;s=o.next())s.value.onGridChanged(this._terminal,t,e)}catch(t){i={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}this._glyphRenderer.beginFrame()&&(this._model.clear(),this._updateSelectionModel(void 0,void 0)),this._updateModel(t,e),this._rectangleRenderer.render(),this._glyphRenderer.render(this._model)},e.prototype._updateModel=function(t,e){for(var i=this._core,r=this._workCell,o=t;o<=e;o++){var n=o+i.buffer.ydisp,s=i.buffer.lines.get(n);this._model.lineLengths[o]=0;for(var a=this._characterJoinerService.getJoinedCharacters(n),l=0;l<i.cols;l++){s.loadCell(l,r);var h=!1,c=l;if(a.length>0&&l===a[0][0]){h=!0;var d=a.shift();r=new m(r,s.translateToString(!0,d[0],d[1]),d[1]-d[0]),c=d[1]-1}var f=r.getChars(),p=r.getCode(),v=(o*i.cols+l)*u.RENDER_MODEL_INDICIES_PER_CELL;if(this._loadColorsForCell(l,n),p!==_.NULL_CELL_CODE&&(this._model.lineLengths[o]=l+1),(this._model.cells[v]!==p||this._model.cells[v+u.RENDER_MODEL_BG_OFFSET]!==this._workColors.bg||this._model.cells[v+u.RENDER_MODEL_FG_OFFSET]!==this._workColors.fg)&&(f.length>1&&(p|=u.COMBINED_CHAR_BIT_MASK),this._model.cells[v]=p,this._model.cells[v+u.RENDER_MODEL_BG_OFFSET]=this._workColors.bg,this._model.cells[v+u.RENDER_MODEL_FG_OFFSET]=this._workColors.fg,this._glyphRenderer.updateCell(l,o,p,this._workColors.bg,this._workColors.fg,f),h))for(r=this._workCell,l++;l<c;l++){var g=(o*i.cols+l)*u.RENDER_MODEL_INDICIES_PER_CELL;this._glyphRenderer.updateCell(l,o,_.NULL_CELL_CODE,0,0,_.NULL_CELL_CHAR),this._model.cells[g]=_.NULL_CELL_CODE,this._model.cells[g+u.RENDER_MODEL_BG_OFFSET]=this._workColors.bg,this._model.cells[g+u.RENDER_MODEL_FG_OFFSET]=this._workColors.fg}}}this._rectangleRenderer.updateBackgrounds(this._model)},e.prototype._loadColorsForCell=function(t,e){var i,r,o,s,a,l;this._workColors.bg=this._workCell.bg,this._workColors.fg=this._workCell.fg;try{for(var h=n(this._decorationService.getDecorationsAtCell(t,e,"bottom")),c=h.next();!c.done;c=h.next())(_=c.value).backgroundColorRGB&&(a=_.backgroundColorRGB.rgba>>8&16777215),_.foregroundColorRGB&&(l=_.foregroundColorRGB.rgba>>8&16777215)}catch(t){i={error:t}}finally{try{c&&!c.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}this._isCellSelected(t,e)&&(a=this._colors.selectionOpaque.rgba>>8&16777215,this._colors.selectionForeground&&(l=this._colors.selectionForeground.rgba>>8&16777215));try{for(var u=n(this._decorationService.getDecorationsAtCell(t,e,"top")),d=u.next();!d.done;d=u.next()){var _;(_=d.value).backgroundColorRGB&&(a=_.backgroundColorRGB.rgba>>8&16777215),_.foregroundColorRGB&&(l=_.foregroundColorRGB.rgba>>8&16777215)}}catch(t){o={error:t}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}void 0!==a&&(a=-16777216&this._workCell.bg|a|50331648),void 0!==l&&(l=-16777216&this._workCell.fg&-67108865|l|50331648),67108864&this._workColors.fg&&(void 0!==a&&void 0===l&&(l=0==(50331648&this._workColors.bg)?-134217728&this._workColors.fg|16777215&this._colors.background.rgba>>8|50331648:-134217728&this._workColors.fg|67108863&this._workColors.bg),void 0===a&&void 0!==l&&(a=0==(50331648&this._workColors.fg)?-67108864&this._workColors.bg|16777215&this._colors.foreground.rgba>>8|50331648:-67108864&this._workColors.bg|67108863&this._workColors.fg)),this._workColors.bg=null!=a?a:this._workColors.bg,this._workColors.fg=null!=l?l:this._workColors.fg},e.prototype._isCellSelected=function(t,e){return!!this._model.selection.hasSelection&&(e-=this._terminal.buffer.active.viewportY,this._model.selection.columnSelectMode?this._model.selection.startCol<=this._model.selection.endCol?t>=this._model.selection.startCol&&e>=this._model.selection.viewportCappedStartRow&&t<this._model.selection.endCol&&e<=this._model.selection.viewportCappedEndRow:t<this._model.selection.startCol&&e>=this._model.selection.viewportCappedStartRow&&t>=this._model.selection.endCol&&e<=this._model.selection.viewportCappedEndRow:e>this._model.selection.viewportStartRow&&e<this._model.selection.viewportEndRow||this._model.selection.viewportStartRow===this._model.selection.viewportEndRow&&e===this._model.selection.viewportStartRow&&t>=this._model.selection.startCol&&t<this._model.selection.endCol||this._model.selection.viewportStartRow<this._model.selection.viewportEndRow&&e===this._model.selection.viewportEndRow&&t<this._model.selection.endCol||this._model.selection.viewportStartRow<this._model.selection.viewportEndRow&&e===this._model.selection.viewportStartRow&&t>=this._model.selection.startCol)},e.prototype._updateSelectionModel=function(t,e,i){void 0===i&&(i=!1);var r=this._terminal;if(t&&e&&(t[0]!==e[0]||t[1]!==e[1])){var o=t[1]-r.buffer.active.viewportY,n=e[1]-r.buffer.active.viewportY,s=Math.max(o,0),a=Math.min(n,r.rows-1);s>=r.rows||a<0?this._model.clearSelection():(this._model.selection.hasSelection=!0,this._model.selection.columnSelectMode=i,this._model.selection.viewportStartRow=o,this._model.selection.viewportEndRow=n,this._model.selection.viewportCappedStartRow=s,this._model.selection.viewportCappedEndRow=a,this._model.selection.startCol=t[0],this._model.selection.endCol=e[0])}else this._model.clearSelection()},e.prototype._updateDimensions=function(){this._core._charSizeService.width&&this._core._charSizeService.height&&(this.dimensions.scaledCharWidth=Math.floor(this._core._charSizeService.width*this._devicePixelRatio),this.dimensions.scaledCharHeight=Math.ceil(this._core._charSizeService.height*this._devicePixelRatio),this.dimensions.scaledCellHeight=Math.floor(this.dimensions.scaledCharHeight*this._terminal.options.lineHeight),this.dimensions.scaledCharTop=1===this._terminal.options.lineHeight?0:Math.round((this.dimensions.scaledCellHeight-this.dimensions.scaledCharHeight)/2),this.dimensions.scaledCellWidth=this.dimensions.scaledCharWidth+Math.round(this._terminal.options.letterSpacing),this.dimensions.scaledCharLeft=Math.floor(this._terminal.options.letterSpacing/2),this.dimensions.scaledCanvasHeight=this._terminal.rows*this.dimensions.scaledCellHeight,this.dimensions.scaledCanvasWidth=this._terminal.cols*this.dimensions.scaledCellWidth,this.dimensions.canvasHeight=Math.round(this.dimensions.scaledCanvasHeight/this._devicePixelRatio),this.dimensions.canvasWidth=Math.round(this.dimensions.scaledCanvasWidth/this._devicePixelRatio),this.dimensions.actualCellHeight=this.dimensions.scaledCellHeight/this._devicePixelRatio,this.dimensions.actualCellWidth=this.dimensions.scaledCellWidth/this._devicePixelRatio)},e.prototype._requestRedrawViewport=function(){this._onRequestRedraw.fire({start:0,end:this._terminal.rows-1})},e}(d.Disposable);e.WebglRenderer=C;var m=function(t){function e(e,i,r){var o=t.call(this)||this;return o.content=0,o.combinedData="",o.fg=e.fg,o.bg=e.bg,o.combinedData=i,o._width=r,o}return o(e,t),e.prototype.isCombined=function(){return 2097152},e.prototype.getWidth=function(){return this._width},e.prototype.getChars=function(){return this.combinedData},e.prototype.getCode=function(){return 2097151},e.prototype.setFromCharData=function(t){throw new Error("not implemented")},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(g.AttributeData);e.JoinedCellData=m},381:(t,e)=>{function i(t,e,i){var o=r(t.createShader(e));if(t.shaderSource(o,i),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS))return o;console.error(t.getShaderInfoLog(o)),t.deleteShader(o)}function r(t){if(!t)throw new Error("value must not be falsy");return t}Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfFalsy=e.expandFloat32Array=e.createShader=e.createProgram=e.PROJECTION_MATRIX=void 0,e.PROJECTION_MATRIX=new Float32Array([2,0,0,0,0,-2,0,0,0,0,1,0,-1,1,0,1]),e.createProgram=function(t,e,o){var n=r(t.createProgram());if(t.attachShader(n,r(i(t,t.VERTEX_SHADER,e))),t.attachShader(n,r(i(t,t.FRAGMENT_SHADER,o))),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS))return n;console.error(t.getProgramInfoLog(n)),t.deleteProgram(n)},e.createShader=i,e.expandFloat32Array=function(t,e){for(var i=Math.min(2*t.length,e),r=new Float32Array(i),o=0;o<t.length;o++)r[o]=t[o];return r},e.throwIfFalsy=r},713:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.removeTerminalFromCache=e.acquireCharAtlas=void 0;var r=i(433),o=i(167),n=[];e.acquireCharAtlas=function(t,e,i,s,a,l){for(var h=(0,r.generateConfig)(i,s,a,l,t,e),c=0;c<n.length;c++){var u=(d=n[c]).ownedBy.indexOf(t);if(u>=0){if((0,r.configEquals)(d.config,h))return d.atlas;1===d.ownedBy.length?(d.atlas.dispose(),n.splice(c,1)):d.ownedBy.splice(u,1);break}}for(c=0;c<n.length;c++){var d=n[c];if((0,r.configEquals)(d.config,h))return d.ownedBy.push(t),d.atlas}var _={atlas:new o.WebglCharAtlas(document,h),config:h,ownedBy:[t]};return n.push(_),_.atlas},e.removeTerminalFromCache=function(t){for(var e=0;e<n.length;e++){var i=n[e].ownedBy.indexOf(t);if(-1!==i){1===n[e].ownedBy.length?(n[e].atlas.dispose(),n.splice(e,1)):n[e].ownedBy.splice(i,1);break}}}},433:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.is256Color=e.configEquals=e.generateConfig=void 0;var i={css:"",rgba:0};e.generateConfig=function(t,e,r,o,n,s){var a={foreground:s.foreground,background:s.background,cursor:i,cursorAccent:i,selectionTransparent:i,selectionOpaque:i,selectionForeground:i,ansi:s.ansi.slice(),contrastCache:s.contrastCache};return{customGlyphs:n.options.customGlyphs,devicePixelRatio:window.devicePixelRatio,letterSpacing:n.options.letterSpacing,lineHeight:n.options.lineHeight,scaledCellWidth:t,scaledCellHeight:e,scaledCharWidth:r,scaledCharHeight:o,fontFamily:n.options.fontFamily,fontSize:n.options.fontSize,fontWeight:n.options.fontWeight,fontWeightBold:n.options.fontWeightBold,allowTransparency:n.options.allowTransparency,drawBoldTextInBrightColors:n.options.drawBoldTextInBrightColors,minimumContrastRatio:n.options.minimumContrastRatio,colors:a}},e.configEquals=function(t,e){for(var i=0;i<t.colors.ansi.length;i++)if(t.colors.ansi[i].rgba!==e.colors.ansi[i].rgba)return!1;return t.devicePixelRatio===e.devicePixelRatio&&t.customGlyphs===e.customGlyphs&&t.lineHeight===e.lineHeight&&t.letterSpacing===e.letterSpacing&&t.fontFamily===e.fontFamily&&t.fontSize===e.fontSize&&t.fontWeight===e.fontWeight&&t.fontWeightBold===e.fontWeightBold&&t.allowTransparency===e.allowTransparency&&t.scaledCharWidth===e.scaledCharWidth&&t.scaledCharHeight===e.scaledCharHeight&&t.drawBoldTextInBrightColors===e.drawBoldTextInBrightColors&&t.minimumContrastRatio===e.minimumContrastRatio&&t.colors.foreground===e.colors.foreground&&t.colors.background===e.colors.background},e.is256Color=function(t){return 16777216==(50331648&t)||33554432==(50331648&t)}},167:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WebglCharAtlas=void 0;var r=i(499),o=i(855),n=i(381),s=i(147),a=i(160),l=i(14),h=i(634),c=1024,u=1024,d=Math.floor(819.2),_={css:"rgba(0, 0, 0, 0)",rgba:0},f={offset:{x:0,y:0},texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:0,y:0},sizeClipSpace:{x:0,y:0}},p=function(){function t(t,e){this._config=e,this._didWarmUp=!1,this._cacheMap={},this._cacheMapCombined={},this._currentRowY=0,this._currentRowX=0,this._currentRowHeight=0,this.hasCanvasChanged=!1,this._workBoundingBox={top:0,left:0,bottom:0,right:0},this._workAttributeData=new s.AttributeData,this.cacheCanvas=t.createElement("canvas"),this.cacheCanvas.width=c,this.cacheCanvas.height=u,this._cacheCtx=(0,n.throwIfFalsy)(this.cacheCanvas.getContext("2d",{alpha:!0})),this._tmpCanvas=t.createElement("canvas"),this._tmpCanvas.width=4*this._config.scaledCellWidth+4,this._tmpCanvas.height=this._config.scaledCellHeight+4,this._tmpCtx=(0,n.throwIfFalsy)(this._tmpCanvas.getContext("2d",{alpha:this._config.allowTransparency}))}return t.prototype.dispose=function(){this.cacheCanvas.parentElement&&this.cacheCanvas.parentElement.removeChild(this.cacheCanvas)},t.prototype.warmUp=function(){this._didWarmUp||(this._doWarmUp(),this._didWarmUp=!0)},t.prototype._doWarmUp=function(){for(var t,e,i=33;i<126;i++){var r=this._drawToCache(i,o.DEFAULT_COLOR,o.DEFAULT_COLOR);this._cacheMap[i]=((t={})[o.DEFAULT_COLOR]=((e={})[o.DEFAULT_COLOR]=r,e),t)}},t.prototype.beginFrame=function(){return this._currentRowY>d&&(this.clearTexture(),this.warmUp(),!0)},t.prototype.clearTexture=function(){0===this._currentRowX&&0===this._currentRowY||(this._cacheCtx.clearRect(0,0,c,u),this._cacheMap={},this._cacheMapCombined={},this._currentRowHeight=0,this._currentRowX=0,this._currentRowY=0,this._didWarmUp=!1)},t.prototype.getRasterizedGlyphCombinedChar=function(t,e,i){var r,o=this._cacheMapCombined[t];o||(o={},this._cacheMapCombined[t]=o);var n=o[e];return n&&(r=n[i]),r||(r=this._drawToCache(t,e,i),o[e]||(o[e]={}),o[e][i]=r),r},t.prototype.getRasterizedGlyph=function(t,e,i){var r,o=this._cacheMap[t];o||(o={},this._cacheMap[t]=o);var n=o[e];return n&&(r=n[i]),r||(r=this._drawToCache(t,e,i),o[e]||(o[e]={}),o[e][i]=r),r},t.prototype._getColorFromAnsiIndex=function(t){if(t>=this._config.colors.ansi.length)throw new Error("No color found for idx "+t);return this._config.colors.ansi[t]},t.prototype._getBackgroundColor=function(t,e,i){if(this._config.allowTransparency)return _;switch(t){case 16777216:case 33554432:return this._getColorFromAnsiIndex(e);case 50331648:var r=s.AttributeData.toColorRGB(e);return{rgba:e<<8,css:"#"+g(r[0])+g(r[1])+g(r[2])};default:return i?this._config.colors.foreground:this._config.colors.background}},t.prototype._getForegroundCss=function(t,e,i,r,o,n,l,h,c){var u=this._getMinimumContrastCss(t,e,i,r,o,n,l,h,c);if(u)return u;switch(o){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&h&&n<8&&(n+=8),this._getColorFromAnsiIndex(n).css;case 50331648:var d=s.AttributeData.toColorRGB(n);return a.channels.toCss(d[0],d[1],d[2]);default:if(l){var _=this._config.colors.background.css;return 9===_.length?_.slice(0,7):_}return this._config.colors.foreground.css}},t.prototype._resolveBackgroundRgba=function(t,e,i){switch(t){case 16777216:case 33554432:return this._getColorFromAnsiIndex(e).rgba;case 50331648:return e<<8;default:return i?this._config.colors.foreground.rgba:this._config.colors.background.rgba}},t.prototype._resolveForegroundRgba=function(t,e,i,r){switch(t){case 16777216:case 33554432:return this._config.drawBoldTextInBrightColors&&r&&e<8&&(e+=8),this._getColorFromAnsiIndex(e).rgba;case 50331648:return e<<8;default:return i?this._config.colors.background.rgba:this._config.colors.foreground.rgba}},t.prototype._getMinimumContrastCss=function(t,e,i,r,o,n,s,l,h){if(1!==this._config.minimumContrastRatio&&!h){var c=this._config.colors.contrastCache.getCss(t,r);if(void 0!==c)return c||void 0;var u=this._resolveBackgroundRgba(e,i,s),d=this._resolveForegroundRgba(o,n,s,l),_=a.rgba.ensureContrastRatio(u,d,this._config.minimumContrastRatio);if(_){var f=a.channels.toCss(_>>24&255,_>>16&255,_>>8&255);return this._config.colors.contrastCache.setCss(t,r,f),f}this._config.colors.contrastCache.setCss(t,r,null)}},t.prototype._drawToCache=function(t,e,i){var o="number"==typeof t?String.fromCharCode(t):t;this.hasCanvasChanged=!0;var n=this._config.scaledCellWidth*Math.max(o.length,2)+4;this._tmpCanvas.width<n&&(this._tmpCanvas.width=n);var s=this._config.scaledCellHeight+4;if(this._tmpCanvas.height<s&&(this._tmpCanvas.height=s),this._tmpCtx.save(),this._workAttributeData.fg=i,this._workAttributeData.bg=e,this._workAttributeData.isInvisible())return f;var a=!!this._workAttributeData.isBold(),d=!!this._workAttributeData.isInverse(),_=!!this._workAttributeData.isDim(),p=!!this._workAttributeData.isItalic(),g=!!this._workAttributeData.isUnderline(),C=!!this._workAttributeData.isStrikethrough(),m=this._workAttributeData.getFgColor(),y=this._workAttributeData.getFgColorMode(),w=this._workAttributeData.getBgColor(),L=this._workAttributeData.getBgColorMode();if(d){var b=m;m=w,w=b;var x=y;y=L,L=x}var R=this._getBackgroundColor(L,w,d);this._tmpCtx.globalCompositeOperation="copy",this._tmpCtx.fillStyle=R.css,this._tmpCtx.fillRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.globalCompositeOperation="source-over";var M=a?this._config.fontWeightBold:this._config.fontWeight,E=p?"italic":"";this._tmpCtx.font=E+" "+M+" "+this._config.fontSize*this._config.devicePixelRatio+"px "+this._config.fontFamily,this._tmpCtx.textBaseline=r.TEXT_BASELINE;var A=1===o.length&&(0,h.isPowerlineGlyph)(o.charCodeAt(0));this._tmpCtx.fillStyle=this._getForegroundCss(e,L,w,i,y,m,d,a,(0,h.excludeFromContrastRatioDemands)(o.charCodeAt(0))),_&&(this._tmpCtx.globalAlpha=r.DIM_OPACITY);var S=A?0:2,D=!1;if(!1!==this._config.customGlyphs&&(D=(0,l.tryDrawCustomChar)(this._tmpCtx,o,S,S,this._config.scaledCellWidth,this._config.scaledCellHeight)),D||this._tmpCtx.fillText(o,S,S+this._config.scaledCharHeight),"_"===o&&!this._config.allowTransparency){var T=v(this._tmpCtx.getImageData(S,S,this._config.scaledCellWidth,this._config.scaledCellHeight),R);if(T)for(var I=1;I<=5&&(this._tmpCtx.clearRect(0,0,this._tmpCanvas.width,this._tmpCanvas.height),this._tmpCtx.fillText(o,S,S+this._config.scaledCharHeight-I),T=v(this._tmpCtx.getImageData(S,S,this._config.scaledCellWidth,this._config.scaledCellHeight),R));I++);}if(g||C){var B=Math.max(1,Math.floor(this._config.fontSize/10)),F=this._tmpCtx.lineWidth%2==1?.5:0;this._tmpCtx.lineWidth=B,this._tmpCtx.strokeStyle=this._tmpCtx.fillStyle,this._tmpCtx.beginPath(),g&&(this._tmpCtx.moveTo(S,S+this._config.scaledCharHeight-F),this._tmpCtx.lineTo(S+this._config.scaledCharWidth,S+this._config.scaledCharHeight-F)),C&&(this._tmpCtx.moveTo(S,S+Math.floor(this._config.scaledCharHeight/2)-F),this._tmpCtx.lineTo(S+this._config.scaledCharWidth,S+Math.floor(this._config.scaledCharHeight/2)-F)),this._tmpCtx.stroke(),this._tmpCtx.closePath()}this._tmpCtx.restore();var k=this._tmpCtx.getImageData(0,0,this._tmpCanvas.width,this._tmpCanvas.height);if(v(k,R))return f;var P=this._findGlyphBoundingBox(k,this._workBoundingBox,n,A,D),O=this._clipImageData(k,this._workBoundingBox);return this._currentRowX+P.size.x>c&&(this._currentRowX=0,this._currentRowY+=this._currentRowHeight,this._currentRowHeight=0),P.texturePosition.x=this._currentRowX,P.texturePosition.y=this._currentRowY,P.texturePositionClipSpace.x=this._currentRowX/c,P.texturePositionClipSpace.y=this._currentRowY/u,this._currentRowHeight=Math.max(this._currentRowHeight,P.size.y),this._currentRowX+=P.size.x,this._cacheCtx.putImageData(O,P.texturePosition.x,P.texturePosition.y),P},t.prototype._findGlyphBoundingBox=function(t,e,i,r,o){e.top=0;for(var n=r?this._config.scaledCellHeight:this._tmpCanvas.height,s=r?this._config.scaledCharWidth:i,a=!1,l=0;l<n;l++){for(var h=0;h<s;h++){var d=l*this._tmpCanvas.width*4+4*h+3;if(0!==t.data[d]){e.top=l,a=!0;break}}if(a)break}for(e.left=0,a=!1,h=0;h<s;h++){for(l=0;l<n;l++)if(d=l*this._tmpCanvas.width*4+4*h+3,0!==t.data[d]){e.left=h,a=!0;break}if(a)break}for(e.right=s,a=!1,h=s-1;h>=0;h--){for(l=0;l<n;l++)if(d=l*this._tmpCanvas.width*4+4*h+3,0!==t.data[d]){e.right=h,a=!0;break}if(a)break}for(e.bottom=n,a=!1,l=n-1;l>=0;l--){for(h=0;h<s;h++)if(d=l*this._tmpCanvas.width*4+4*h+3,0!==t.data[d]){e.bottom=l,a=!0;break}if(a)break}return{texturePosition:{x:0,y:0},texturePositionClipSpace:{x:0,y:0},size:{x:e.right-e.left+1,y:e.bottom-e.top+1},sizeClipSpace:{x:(e.right-e.left+1)/c,y:(e.bottom-e.top+1)/u},offset:{x:-e.left+(r?0:2)+(o?Math.floor(this._config.letterSpacing/2):0),y:-e.top+(r?0:2)+(o?1===this._config.lineHeight?0:Math.round((this._config.scaledCellHeight-this._config.scaledCharHeight)/2):0)}}},t.prototype._clipImageData=function(t,e){for(var i=e.right-e.left+1,r=e.bottom-e.top+1,o=new Uint8ClampedArray(i*r*4),n=e.top;n<=e.bottom;n++)for(var s=e.left;s<=e.right;s++){var a=n*this._tmpCanvas.width*4+4*s,l=(n-e.top)*i*4+4*(s-e.left);o[l]=t.data[a],o[l+1]=t.data[a+1],o[l+2]=t.data[a+2],o[l+3]=t.data[a+3]}return new ImageData(o,i,r)},t}();function v(t,e){for(var i=!0,r=e.rgba>>>24,o=e.rgba>>>16&255,n=e.rgba>>>8&255,s=0;s<t.data.length;s+=4)t.data[s]===r&&t.data[s+1]===o&&t.data[s+2]===n?t.data[s+3]=0:i=!1;return i}function g(t){var e=t.toString(16);return e.length<2?"0"+e:e}e.WebglCharAtlas=p},592:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseRenderLayer=void 0;var r=i(713),o=i(499),n=i(381),s=function(){function t(t,e,i,r,o){this._container=t,this._alpha=r,this._colors=o,this._scaledCharWidth=0,this._scaledCharHeight=0,this._scaledCellWidth=0,this._scaledCellHeight=0,this._scaledCharLeft=0,this._scaledCharTop=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-"+e+"-layer"),this._canvas.style.zIndex=i.toString(),this._initCanvas(),this._container.appendChild(this._canvas)}return t.prototype.dispose=function(){this._container.removeChild(this._canvas),this._charAtlas&&this._charAtlas.dispose()},t.prototype._initCanvas=function(){this._ctx=(0,n.throwIfFalsy)(this._canvas.getContext("2d",{alpha:this._alpha})),this._alpha||this._clearAll()},t.prototype.onOptionsChanged=function(t){},t.prototype.onBlur=function(t){},t.prototype.onFocus=function(t){},t.prototype.onCursorMove=function(t){},t.prototype.onGridChanged=function(t,e,i){},t.prototype.onSelectionChanged=function(t,e,i,r){void 0===r&&(r=!1)},t.prototype.setColors=function(t,e){this._refreshCharAtlas(t,e)},t.prototype._setTransparency=function(t,e){if(e!==this._alpha){var i=this._canvas;this._alpha=e,this._canvas=this._canvas.cloneNode(),this._initCanvas(),this._container.replaceChild(this._canvas,i),this._refreshCharAtlas(t,this._colors),this.onGridChanged(t,0,t.rows-1)}},t.prototype._refreshCharAtlas=function(t,e){this._scaledCharWidth<=0&&this._scaledCharHeight<=0||(this._charAtlas=(0,r.acquireCharAtlas)(t,e,this._scaledCellWidth,this._scaledCellHeight,this._scaledCharWidth,this._scaledCharHeight),this._charAtlas.warmUp())},t.prototype.resize=function(t,e){this._scaledCellWidth=e.scaledCellWidth,this._scaledCellHeight=e.scaledCellHeight,this._scaledCharWidth=e.scaledCharWidth,this._scaledCharHeight=e.scaledCharHeight,this._scaledCharLeft=e.scaledCharLeft,this._scaledCharTop=e.scaledCharTop,this._canvas.width=e.scaledCanvasWidth,this._canvas.height=e.scaledCanvasHeight,this._canvas.style.width=e.canvasWidth+"px",this._canvas.style.height=e.canvasHeight+"px",this._alpha||this._clearAll(),this._refreshCharAtlas(t,this._colors)},t.prototype._fillCells=function(t,e,i,r){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight)},t.prototype._fillBottomLineAtCells=function(t,e,i){void 0===i&&(i=1),this._ctx.fillRect(t*this._scaledCellWidth,(e+1)*this._scaledCellHeight-window.devicePixelRatio-1,i*this._scaledCellWidth,window.devicePixelRatio)},t.prototype._fillLeftLineAtCell=function(t,e,i){this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,window.devicePixelRatio*i,this._scaledCellHeight)},t.prototype._strokeRectAtCell=function(t,e,i,r){this._ctx.lineWidth=window.devicePixelRatio,this._ctx.strokeRect(t*this._scaledCellWidth+window.devicePixelRatio/2,e*this._scaledCellHeight+window.devicePixelRatio/2,i*this._scaledCellWidth-window.devicePixelRatio,r*this._scaledCellHeight-window.devicePixelRatio)},t.prototype._clearAll=function(){this._alpha?this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height))},t.prototype._clearCells=function(t,e,i,r){this._alpha?this._ctx.clearRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight):(this._ctx.fillStyle=this._colors.background.css,this._ctx.fillRect(t*this._scaledCellWidth,e*this._scaledCellHeight,i*this._scaledCellWidth,r*this._scaledCellHeight))},t.prototype._fillCharTrueColor=function(t,e,i,r){this._ctx.font=this._getFont(t,!1,!1),this._ctx.textBaseline=o.TEXT_BASELINE,this._clipRow(t,r),this._ctx.fillText(e.getChars(),i*this._scaledCellWidth+this._scaledCharLeft,r*this._scaledCellHeight+this._scaledCharTop+this._scaledCharHeight)},t.prototype._clipRow=function(t,e){this._ctx.beginPath(),this._ctx.rect(0,e*this._scaledCellHeight,t.cols*this._scaledCellWidth,this._scaledCellHeight),this._ctx.clip()},t.prototype._getFont=function(t,e,i){return(i?"italic":"")+" "+(e?t.options.fontWeightBold:t.options.fontWeight)+" "+t.options.fontSize*window.devicePixelRatio+"px "+t.options.fontFamily},t}();e.BaseRenderLayer=s},461:function(t,e,i){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRenderLayer=void 0;var n=i(592),s=i(782),a=600,l=function(t){function e(e,i,r,o,n,a){var l=t.call(this,i,"cursor",r,!0,o)||this;return l._terminal=n,l._onRequestRefreshRowsEvent=a,l._cell=new s.CellData,l._state={x:0,y:0,isFocused:!1,style:"",width:0},l._cursorRenderers={bar:l._renderBarCursor.bind(l),block:l._renderBlockCursor.bind(l),underline:l._renderUnderlineCursor.bind(l)},l.onOptionsChanged(e),l}return o(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this._state={x:0,y:0,isFocused:!1,style:"",width:0}},e.prototype.reset=function(t){var e;this._clearCursor(),null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation(t),this.onOptionsChanged(t)},e.prototype.onBlur=function(t){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.pause(),this._onRequestRefreshRowsEvent.fire({start:t.buffer.active.cursorY,end:t.buffer.active.cursorY})},e.prototype.onFocus=function(t){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.resume(t),this._onRequestRefreshRowsEvent.fire({start:t.buffer.active.cursorY,end:t.buffer.active.cursorY})},e.prototype.onOptionsChanged=function(t){var e,i=this;t.options.cursorBlink?this._cursorBlinkStateManager||(this._cursorBlinkStateManager=new h(t,(function(){i._render(t,!0)}))):(null===(e=this._cursorBlinkStateManager)||void 0===e||e.dispose(),this._cursorBlinkStateManager=void 0),this._onRequestRefreshRowsEvent.fire({start:t.buffer.active.cursorY,end:t.buffer.active.cursorY})},e.prototype.onCursorMove=function(t){var e;null===(e=this._cursorBlinkStateManager)||void 0===e||e.restartBlinkAnimation(t)},e.prototype.onGridChanged=function(t,e,i){!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isPaused?this._render(t,!1):this._cursorBlinkStateManager.restartBlinkAnimation(t)},e.prototype._render=function(t,e){if(this._terminal.coreService.isCursorInitialized&&!this._terminal.coreService.isCursorHidden){var i=t.buffer.active.baseY+t.buffer.active.cursorY,r=i-t.buffer.active.viewportY,o=Math.min(t.buffer.active.cursorX,t.cols-1);if(r<0||r>=t.rows)this._clearCursor();else if(t._core.buffer.lines.get(i).loadCell(o,this._cell),void 0!==this._cell.content){if(!c(t)){this._clearCursor(),this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css;var n=t.options.cursorStyle;return n&&"block"!==n?this._cursorRenderers[n](t,o,r,this._cell):this._renderBlurCursor(t,o,r,this._cell),this._ctx.restore(),this._state.x=o,this._state.y=r,this._state.isFocused=!1,this._state.style=n,void(this._state.width=this._cell.getWidth())}if(!this._cursorBlinkStateManager||this._cursorBlinkStateManager.isCursorVisible){if(this._state){if(this._state.x===o&&this._state.y===r&&this._state.isFocused===c(t)&&this._state.style===t.options.cursorStyle&&this._state.width===this._cell.getWidth())return;this._clearCursor()}this._ctx.save(),this._cursorRenderers[t.options.cursorStyle||"block"](t,o,r,this._cell),this._ctx.restore(),this._state.x=o,this._state.y=r,this._state.isFocused=!1,this._state.style=t.options.cursorStyle,this._state.width=this._cell.getWidth()}else this._clearCursor()}}else this._clearCursor()},e.prototype._clearCursor=function(){this._state&&(window.devicePixelRatio<1?this._clearAll():this._clearCells(this._state.x,this._state.y,this._state.width,1),this._state={x:0,y:0,isFocused:!1,style:"",width:0})},e.prototype._renderBarCursor=function(t,e,i,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillLeftLineAtCell(e,i,t.options.cursorWidth),this._ctx.restore()},e.prototype._renderBlockCursor=function(t,e,i,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillCells(e,i,r.getWidth(),1),this._ctx.fillStyle=this._colors.cursorAccent.css,this._fillCharTrueColor(t,r,e,i),this._ctx.restore()},e.prototype._renderUnderlineCursor=function(t,e,i,r){this._ctx.save(),this._ctx.fillStyle=this._colors.cursor.css,this._fillBottomLineAtCells(e,i),this._ctx.restore()},e.prototype._renderBlurCursor=function(t,e,i,r){this._ctx.save(),this._ctx.strokeStyle=this._colors.cursor.css,this._strokeRectAtCell(e,i,r.getWidth(),1),this._ctx.restore()},e}(n.BaseRenderLayer);e.CursorRenderLayer=l;var h=function(){function t(t,e){this._renderCallback=e,this.isCursorVisible=!0,c(t)&&this._restartInterval()}return Object.defineProperty(t.prototype,"isPaused",{get:function(){return!(this._blinkStartTimeout||this._blinkInterval)},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},t.prototype.restartBlinkAnimation=function(t){var e=this;this.isPaused||(this._animationTimeRestarted=Date.now(),this.isCursorVisible=!0,this._animationFrame||(this._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))))},t.prototype._restartInterval=function(t){var e=this;void 0===t&&(t=a),this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout=window.setTimeout((function(){if(e._animationTimeRestarted){var t=a-(Date.now()-e._animationTimeRestarted);if(e._animationTimeRestarted=void 0,t>0)return void e._restartInterval(t)}e.isCursorVisible=!1,e._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0})),e._blinkInterval=window.setInterval((function(){if(e._animationTimeRestarted){var t=a-(Date.now()-e._animationTimeRestarted);return e._animationTimeRestarted=void 0,void e._restartInterval(t)}e.isCursorVisible=!e.isCursorVisible,e._animationFrame=window.requestAnimationFrame((function(){e._renderCallback(),e._animationFrame=void 0}))}),a)}),t)},t.prototype.pause=function(){this.isCursorVisible=!0,this._blinkInterval&&(window.clearInterval(this._blinkInterval),this._blinkInterval=void 0),this._blinkStartTimeout&&(window.clearTimeout(this._blinkStartTimeout),this._blinkStartTimeout=void 0),this._animationFrame&&(window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)},t.prototype.resume=function(t){this.pause(),this._animationTimeRestarted=void 0,this._restartInterval(),this.restartBlinkAnimation(t)},t}();function c(t){return document.activeElement===t.textarea&&document.hasFocus()}},733:function(t,e,i){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.LinkRenderLayer=void 0;var n=i(592),s=i(499),a=i(433),l=function(t){function e(e,i,r,o){var n=t.call(this,e,"link",i,!0,r)||this;return o.linkifier.onShowLinkUnderline((function(t){return n._onShowLinkUnderline(t)})),o.linkifier.onHideLinkUnderline((function(t){return n._onHideLinkUnderline(t)})),o.linkifier2.onShowLinkUnderline((function(t){return n._onShowLinkUnderline(t)})),o.linkifier2.onHideLinkUnderline((function(t){return n._onHideLinkUnderline(t)})),n}return o(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this._state=void 0},e.prototype.reset=function(t){this._clearCurrentLink()},e.prototype._clearCurrentLink=function(){if(this._state){this._clearCells(this._state.x1,this._state.y1,this._state.cols-this._state.x1,1);var t=this._state.y2-this._state.y1-1;t>0&&this._clearCells(0,this._state.y1+1,this._state.cols,t),this._clearCells(0,this._state.y2,this._state.x2,1),this._state=void 0}},e.prototype._onShowLinkUnderline=function(t){if(t.fg===s.INVERTED_DEFAULT_COLOR?this._ctx.fillStyle=this._colors.background.css:void 0!==t.fg&&(0,a.is256Color)(t.fg)?this._ctx.fillStyle=this._colors.ansi[t.fg].css:this._ctx.fillStyle=this._colors.foreground.css,t.y1===t.y2)this._fillBottomLineAtCells(t.x1,t.y1,t.x2-t.x1);else{this._fillBottomLineAtCells(t.x1,t.y1,t.cols-t.x1);for(var e=t.y1+1;e<t.y2;e++)this._fillBottomLineAtCells(0,e,t.cols);this._fillBottomLineAtCells(0,t.y2,t.x2)}this._state=t},e.prototype._onHideLinkUnderline=function(t){this._clearCurrentLink()},e}(n.BaseRenderLayer);e.LinkRenderLayer=l},820:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.addDisposableDomListener=void 0,e.addDisposableDomListener=function(t,e,i,r){t.addEventListener(e,i,r);var o=!1;return{dispose:function(){o||(o=!0,t.removeEventListener(e,i,r))}}}},14:function(t,e,i){var r,o,n,s,a,l,h,c,u,d,_,f,p,v,g,C,m,y,w,L,b,x,R,M,E,A,S,D,T,I,B,F,k,P,O,W,H,N,U,z,j,G,Y,X,V,q,J,K,$,Z,Q,tt,et,it,rt,ot,nt,st,at,lt,ht,ct,ut,dt,_t,ft,pt,vt,gt,Ct,mt,yt,wt,Lt,bt,xt,Rt,Mt,Et,At,St,Dt,Tt,It,Bt,Ft,kt,Pt,Ot,Wt,Ht,Nt,Ut,zt,jt,Gt,Yt,Xt,Vt,qt,Jt,Kt,$t,Zt,Qt,te,ee,ie,re,oe,ne,se,ae,le,he,ce,ue,de,_e,fe,pe,ve,ge,Ce,me,ye,we,Le,be=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,o,n=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s},xe=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.tryDrawCustomChar=e.powerlineDefinitions=e.boxDrawingDefinitions=e.blockElementDefinitions=void 0;var Re=i(634);e.blockElementDefinitions={"\u2580":[{x:0,y:0,w:8,h:4}],"\u2581":[{x:0,y:7,w:8,h:1}],"\u2582":[{x:0,y:6,w:8,h:2}],"\u2583":[{x:0,y:5,w:8,h:3}],"\u2584":[{x:0,y:4,w:8,h:4}],"\u2585":[{x:0,y:3,w:8,h:5}],"\u2586":[{x:0,y:2,w:8,h:6}],"\u2587":[{x:0,y:1,w:8,h:7}],"\u2588":[{x:0,y:0,w:8,h:8}],"\u2589":[{x:0,y:0,w:7,h:8}],"\u258a":[{x:0,y:0,w:6,h:8}],"\u258b":[{x:0,y:0,w:5,h:8}],"\u258c":[{x:0,y:0,w:4,h:8}],"\u258d":[{x:0,y:0,w:3,h:8}],"\u258e":[{x:0,y:0,w:2,h:8}],"\u258f":[{x:0,y:0,w:1,h:8}],"\u2590":[{x:4,y:0,w:4,h:8}],"\u2594":[{x:0,y:0,w:9,h:1}],"\u2595":[{x:7,y:0,w:1,h:8}],"\u2596":[{x:0,y:4,w:4,h:4}],"\u2597":[{x:4,y:4,w:4,h:4}],"\u2598":[{x:0,y:0,w:4,h:4}],"\u2599":[{x:0,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\u259a":[{x:0,y:0,w:4,h:4},{x:4,y:4,w:4,h:4}],"\u259b":[{x:0,y:0,w:4,h:8},{x:0,y:0,w:4,h:8}],"\u259c":[{x:0,y:0,w:8,h:4},{x:4,y:0,w:4,h:8}],"\u259d":[{x:4,y:0,w:4,h:4}],"\u259e":[{x:4,y:0,w:4,h:4},{x:0,y:4,w:4,h:4}],"\u259f":[{x:4,y:0,w:4,h:8},{x:0,y:4,w:8,h:4}],"\ud83e\udf70":[{x:1,y:0,w:1,h:8}],"\ud83e\udf71":[{x:2,y:0,w:1,h:8}],"\ud83e\udf72":[{x:3,y:0,w:1,h:8}],"\ud83e\udf73":[{x:4,y:0,w:1,h:8}],"\ud83e\udf74":[{x:5,y:0,w:1,h:8}],"\ud83e\udf75":[{x:6,y:0,w:1,h:8}],"\ud83e\udf76":[{x:0,y:1,w:8,h:1}],"\ud83e\udf77":[{x:0,y:2,w:8,h:1}],"\ud83e\udf78":[{x:0,y:3,w:8,h:1}],"\ud83e\udf79":[{x:0,y:4,w:8,h:1}],"\ud83e\udf7a":[{x:0,y:5,w:8,h:1}],"\ud83e\udf7b":[{x:0,y:6,w:8,h:1}],"\ud83e\udf7c":[{x:0,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\ud83e\udf7d":[{x:0,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\ud83e\udf7e":[{x:7,y:0,w:1,h:8},{x:0,y:0,w:8,h:1}],"\ud83e\udf7f":[{x:7,y:0,w:1,h:8},{x:0,y:7,w:8,h:1}],"\ud83e\udf80":[{x:0,y:0,w:8,h:1},{x:0,y:7,w:8,h:1}],"\ud83e\udf81":[{x:0,y:0,w:8,h:1},{x:0,y:2,w:8,h:1},{x:0,y:4,w:8,h:1},{x:0,y:7,w:8,h:1}],"\ud83e\udf82":[{x:0,y:0,w:8,h:2}],"\ud83e\udf83":[{x:0,y:0,w:8,h:3}],"\ud83e\udf84":[{x:0,y:0,w:8,h:5}],"\ud83e\udf85":[{x:0,y:0,w:8,h:6}],"\ud83e\udf86":[{x:0,y:0,w:8,h:7}],"\ud83e\udf87":[{x:6,y:0,w:2,h:8}],"\ud83e\udf88":[{x:5,y:0,w:3,h:8}],"\ud83e\udf89":[{x:3,y:0,w:5,h:8}],"\ud83e\udf8a":[{x:2,y:0,w:6,h:8}],"\ud83e\udf8b":[{x:1,y:0,w:7,h:8}],"\ud83e\udf95":[{x:0,y:0,w:2,h:2},{x:4,y:0,w:2,h:2},{x:2,y:2,w:2,h:2},{x:6,y:2,w:2,h:2},{x:0,y:4,w:2,h:2},{x:4,y:4,w:2,h:2},{x:2,y:6,w:2,h:2},{x:6,y:6,w:2,h:2}],"\ud83e\udf96":[{x:2,y:0,w:2,h:2},{x:6,y:0,w:2,h:2},{x:0,y:2,w:2,h:2},{x:4,y:2,w:2,h:2},{x:2,y:4,w:2,h:2},{x:6,y:4,w:2,h:2},{x:0,y:6,w:2,h:2},{x:4,y:6,w:2,h:2}],"\ud83e\udf97":[{x:0,y:2,w:8,h:2},{x:0,y:6,w:8,h:2}]};var Me={"\u2591":[[1,0,0,0],[0,0,0,0],[0,0,1,0],[0,0,0,0]],"\u2592":[[1,0],[0,0],[0,1],[0,0]],"\u2593":[[0,1],[1,1],[1,0],[1,1]]};e.boxDrawingDefinitions={"\u2500":(r={},r[1]="M0,.5 L1,.5",r),"\u2501":(o={},o[3]="M0,.5 L1,.5",o),"\u2502":(n={},n[1]="M.5,0 L.5,1",n),"\u2503":(s={},s[3]="M.5,0 L.5,1",s),"\u250c":(a={},a[1]="M0.5,1 L.5,.5 L1,.5",a),"\u250f":(l={},l[3]="M0.5,1 L.5,.5 L1,.5",l),"\u2510":(h={},h[1]="M0,.5 L.5,.5 L.5,1",h),"\u2513":(c={},c[3]="M0,.5 L.5,.5 L.5,1",c),"\u2514":(u={},u[1]="M.5,0 L.5,.5 L1,.5",u),"\u2517":(d={},d[3]="M.5,0 L.5,.5 L1,.5",d),"\u2518":(_={},_[1]="M.5,0 L.5,.5 L0,.5",_),"\u251b":(f={},f[3]="M.5,0 L.5,.5 L0,.5",f),"\u251c":(p={},p[1]="M.5,0 L.5,1 M.5,.5 L1,.5",p),"\u2523":(v={},v[3]="M.5,0 L.5,1 M.5,.5 L1,.5",v),"\u2524":(g={},g[1]="M.5,0 L.5,1 M.5,.5 L0,.5",g),"\u252b":(C={},C[3]="M.5,0 L.5,1 M.5,.5 L0,.5",C),"\u252c":(m={},m[1]="M0,.5 L1,.5 M.5,.5 L.5,1",m),"\u2533":(y={},y[3]="M0,.5 L1,.5 M.5,.5 L.5,1",y),"\u2534":(w={},w[1]="M0,.5 L1,.5 M.5,.5 L.5,0",w),"\u253b":(L={},L[3]="M0,.5 L1,.5 M.5,.5 L.5,0",L),"\u253c":(b={},b[1]="M0,.5 L1,.5 M.5,0 L.5,1",b),"\u254b":(x={},x[3]="M0,.5 L1,.5 M.5,0 L.5,1",x),"\u2574":(R={},R[1]="M.5,.5 L0,.5",R),"\u2578":(M={},M[3]="M.5,.5 L0,.5",M),"\u2575":(E={},E[1]="M.5,.5 L.5,0",E),"\u2579":(A={},A[3]="M.5,.5 L.5,0",A),"\u2576":(S={},S[1]="M.5,.5 L1,.5",S),"\u257a":(D={},D[3]="M.5,.5 L1,.5",D),"\u2577":(T={},T[1]="M.5,.5 L.5,1",T),"\u257b":(I={},I[3]="M.5,.5 L.5,1",I),"\u2550":(B={},B[1]=function(t,e){return"M0,"+(.5-e)+" L1,"+(.5-e)+" M0,"+(.5+e)+" L1,"+(.5+e)},B),"\u2551":(F={},F[1]=function(t,e){return"M"+(.5-t)+",0 L"+(.5-t)+",1 M"+(.5+t)+",0 L"+(.5+t)+",1"},F),"\u2552":(k={},k[1]=function(t,e){return"M.5,1 L.5,"+(.5-e)+" L1,"+(.5-e)+" M.5,"+(.5+e)+" L1,"+(.5+e)},k),"\u2553":(P={},P[1]=function(t,e){return"M"+(.5-t)+",1 L"+(.5-t)+",.5 L1,.5 M"+(.5+t)+",.5 L"+(.5+t)+",1"},P),"\u2554":(O={},O[1]=function(t,e){return"M1,"+(.5-e)+" L"+(.5-t)+","+(.5-e)+" L"+(.5-t)+",1 M1,"+(.5+e)+" L"+(.5+t)+","+(.5+e)+" L"+(.5+t)+",1"},O),"\u2555":(W={},W[1]=function(t,e){return"M0,"+(.5-e)+" L.5,"+(.5-e)+" L.5,1 M0,"+(.5+e)+" L.5,"+(.5+e)},W),"\u2556":(H={},H[1]=function(t,e){return"M"+(.5+t)+",1 L"+(.5+t)+",.5 L0,.5 M"+(.5-t)+",.5 L"+(.5-t)+",1"},H),"\u2557":(N={},N[1]=function(t,e){return"M0,"+(.5+e)+" L"+(.5-t)+","+(.5+e)+" L"+(.5-t)+",1 M0,"+(.5-e)+" L"+(.5+t)+","+(.5-e)+" L"+(.5+t)+",1"},N),"\u2558":(U={},U[1]=function(t,e){return"M.5,0 L.5,"+(.5+e)+" L1,"+(.5+e)+" M.5,"+(.5-e)+" L1,"+(.5-e)},U),"\u2559":(z={},z[1]=function(t,e){return"M1,.5 L"+(.5-t)+",.5 L"+(.5-t)+",0 M"+(.5+t)+",.5 L"+(.5+t)+",0"},z),"\u255a":(j={},j[1]=function(t,e){return"M1,"+(.5-e)+" L"+(.5+t)+","+(.5-e)+" L"+(.5+t)+",0 M1,"+(.5+e)+" L"+(.5-t)+","+(.5+e)+" L"+(.5-t)+",0"},j),"\u255b":(G={},G[1]=function(t,e){return"M0,"+(.5+e)+" L.5,"+(.5+e)+" L.5,0 M0,"+(.5-e)+" L.5,"+(.5-e)},G),"\u255c":(Y={},Y[1]=function(t,e){return"M0,.5 L"+(.5+t)+",.5 L"+(.5+t)+",0 M"+(.5-t)+",.5 L"+(.5-t)+",0"},Y),"\u255d":(X={},X[1]=function(t,e){return"M0,"+(.5-e)+" L"+(.5-t)+","+(.5-e)+" L"+(.5-t)+",0 M0,"+(.5+e)+" L"+(.5+t)+","+(.5+e)+" L"+(.5+t)+",0"},X),"\u255e":(V={},V[1]=function(t,e){return"M.5,0 L.5,1 M.5,"+(.5-e)+" L1,"+(.5-e)+" M.5,"+(.5+e)+" L1,"+(.5+e)},V),"\u255f":(q={},q[1]=function(t,e){return"M"+(.5-t)+",0 L"+(.5-t)+",1 M"+(.5+t)+",0 L"+(.5+t)+",1 M"+(.5+t)+",.5 L1,.5"},q),"\u2560":(J={},J[1]=function(t,e){return"M"+(.5-t)+",0 L"+(.5-t)+",1 M1,"+(.5+e)+" L"+(.5+t)+","+(.5+e)+" L"+(.5+t)+",1 M1,"+(.5-e)+" L"+(.5+t)+","+(.5-e)+" L"+(.5+t)+",0"},J),"\u2561":(K={},K[1]=function(t,e){return"M.5,0 L.5,1 M0,"+(.5-e)+" L.5,"+(.5-e)+" M0,"+(.5+e)+" L.5,"+(.5+e)},K),"\u2562":($={},$[1]=function(t,e){return"M0,.5 L"+(.5-t)+",.5 M"+(.5-t)+",0 L"+(.5-t)+",1 M"+(.5+t)+",0 L"+(.5+t)+",1"},$),"\u2563":(Z={},Z[1]=function(t,e){return"M"+(.5+t)+",0 L"+(.5+t)+",1 M0,"+(.5+e)+" L"+(.5-t)+","+(.5+e)+" L"+(.5-t)+",1 M0,"+(.5-e)+" L"+(.5-t)+","+(.5-e)+" L"+(.5-t)+",0"},Z),"\u2564":(Q={},Q[1]=function(t,e){return"M0,"+(.5-e)+" L1,"+(.5-e)+" M0,"+(.5+e)+" L1,"+(.5+e)+" M.5,"+(.5+e)+" L.5,1"},Q),"\u2565":(tt={},tt[1]=function(t,e){return"M0,.5 L1,.5 M"+(.5-t)+",.5 L"+(.5-t)+",1 M"+(.5+t)+",.5 L"+(.5+t)+",1"},tt),"\u2566":(et={},et[1]=function(t,e){return"M0,"+(.5-e)+" L1,"+(.5-e)+" M0,"+(.5+e)+" L"+(.5-t)+","+(.5+e)+" L"+(.5-t)+",1 M1,"+(.5+e)+" L"+(.5+t)+","+(.5+e)+" L"+(.5+t)+",1"},et),"\u2567":(it={},it[1]=function(t,e){return"M.5,0 L.5,"+(.5-e)+" M0,"+(.5-e)+" L1,"+(.5-e)+" M0,"+(.5+e)+" L1,"+(.5+e)},it),"\u2568":(rt={},rt[1]=function(t,e){return"M0,.5 L1,.5 M"+(.5-t)+",.5 L"+(.5-t)+",0 M"+(.5+t)+",.5 L"+(.5+t)+",0"},rt),"\u2569":(ot={},ot[1]=function(t,e){return"M0,"+(.5+e)+" L1,"+(.5+e)+" M0,"+(.5-e)+" L"+(.5-t)+","+(.5-e)+" L"+(.5-t)+",0 M1,"+(.5-e)+" L"+(.5+t)+","+(.5-e)+" L"+(.5+t)+",0"},ot),"\u256a":(nt={},nt[1]=function(t,e){return"M.5,0 L.5,1 M0,"+(.5-e)+" L1,"+(.5-e)+" M0,"+(.5+e)+" L1,"+(.5+e)},nt),"\u256b":(st={},st[1]=function(t,e){return"M0,.5 L1,.5 M"+(.5-t)+",0 L"+(.5-t)+",1 M"+(.5+t)+",0 L"+(.5+t)+",1"},st),"\u256c":(at={},at[1]=function(t,e){return"M0,"+(.5+e)+" L"+(.5-t)+","+(.5+e)+" L"+(.5-t)+",1 M1,"+(.5+e)+" L"+(.5+t)+","+(.5+e)+" L"+(.5+t)+",1 M0,"+(.5-e)+" L"+(.5-t)+","+(.5-e)+" L"+(.5-t)+",0 M1,"+(.5-e)+" L"+(.5+t)+","+(.5-e)+" L"+(.5+t)+",0"},at),"\u2571":(lt={},lt[1]="M1,0 L0,1",lt),"\u2572":(ht={},ht[1]="M0,0 L1,1",ht),"\u2573":(ct={},ct[1]="M1,0 L0,1 M0,0 L1,1",ct),"\u257c":(ut={},ut[1]="M.5,.5 L0,.5",ut[3]="M.5,.5 L1,.5",ut),"\u257d":(dt={},dt[1]="M.5,.5 L.5,0",dt[3]="M.5,.5 L.5,1",dt),"\u257e":(_t={},_t[1]="M.5,.5 L1,.5",_t[3]="M.5,.5 L0,.5",_t),"\u257f":(ft={},ft[1]="M.5,.5 L.5,1",ft[3]="M.5,.5 L.5,0",ft),"\u250d":(pt={},pt[1]="M.5,.5 L.5,1",pt[3]="M.5,.5 L1,.5",pt),"\u250e":(vt={},vt[1]="M.5,.5 L1,.5",vt[3]="M.5,.5 L.5,1",vt),"\u2511":(gt={},gt[1]="M.5,.5 L.5,1",gt[3]="M.5,.5 L0,.5",gt),"\u2512":(Ct={},Ct[1]="M.5,.5 L0,.5",Ct[3]="M.5,.5 L.5,1",Ct),"\u2515":(mt={},mt[1]="M.5,.5 L.5,0",mt[3]="M.5,.5 L1,.5",mt),"\u2516":(yt={},yt[1]="M.5,.5 L1,.5",yt[3]="M.5,.5 L.5,0",yt),"\u2519":(wt={},wt[1]="M.5,.5 L.5,0",wt[3]="M.5,.5 L0,.5",wt),"\u251a":(Lt={},Lt[1]="M.5,.5 L0,.5",Lt[3]="M.5,.5 L.5,0",Lt),"\u251d":(bt={},bt[1]="M.5,0 L.5,1",bt[3]="M.5,.5 L1,.5",bt),"\u251e":(xt={},xt[1]="M0.5,1 L.5,.5 L1,.5",xt[3]="M.5,.5 L.5,0",xt),"\u251f":(Rt={},Rt[1]="M.5,0 L.5,.5 L1,.5",Rt[3]="M.5,.5 L.5,1",Rt),"\u2520":(Mt={},Mt[1]="M.5,.5 L1,.5",Mt[3]="M.5,0 L.5,1",Mt),"\u2521":(Et={},Et[1]="M.5,.5 L.5,1",Et[3]="M.5,0 L.5,.5 L1,.5",Et),"\u2522":(At={},At[1]="M.5,.5 L.5,0",At[3]="M0.5,1 L.5,.5 L1,.5",At),"\u2525":(St={},St[1]="M.5,0 L.5,1",St[3]="M.5,.5 L0,.5",St),"\u2526":(Dt={},Dt[1]="M0,.5 L.5,.5 L.5,1",Dt[3]="M.5,.5 L.5,0",Dt),"\u2527":(Tt={},Tt[1]="M.5,0 L.5,.5 L0,.5",Tt[3]="M.5,.5 L.5,1",Tt),"\u2528":(It={},It[1]="M.5,.5 L0,.5",It[3]="M.5,0 L.5,1",It),"\u2529":(Bt={},Bt[1]="M.5,.5 L.5,1",Bt[3]="M.5,0 L.5,.5 L0,.5",Bt),"\u252a":(Ft={},Ft[1]="M.5,.5 L.5,0",Ft[3]="M0,.5 L.5,.5 L.5,1",Ft),"\u252d":(kt={},kt[1]="M0.5,1 L.5,.5 L1,.5",kt[3]="M.5,.5 L0,.5",kt),"\u252e":(Pt={},Pt[1]="M0,.5 L.5,.5 L.5,1",Pt[3]="M.5,.5 L1,.5",Pt),"\u252f":(Ot={},Ot[1]="M.5,.5 L.5,1",Ot[3]="M0,.5 L1,.5",Ot),"\u2530":(Wt={},Wt[1]="M0,.5 L1,.5",Wt[3]="M.5,.5 L.5,1",Wt),"\u2531":(Ht={},Ht[1]="M.5,.5 L1,.5",Ht[3]="M0,.5 L.5,.5 L.5,1",Ht),"\u2532":(Nt={},Nt[1]="M.5,.5 L0,.5",Nt[3]="M0.5,1 L.5,.5 L1,.5",Nt),"\u2535":(Ut={},Ut[1]="M.5,0 L.5,.5 L1,.5",Ut[3]="M.5,.5 L0,.5",Ut),"\u2536":(zt={},zt[1]="M.5,0 L.5,.5 L0,.5",zt[3]="M.5,.5 L1,.5",zt),"\u2537":(jt={},jt[1]="M.5,.5 L.5,0",jt[3]="M0,.5 L1,.5",jt),"\u2538":(Gt={},Gt[1]="M0,.5 L1,.5",Gt[3]="M.5,.5 L.5,0",Gt),"\u2539":(Yt={},Yt[1]="M.5,.5 L1,.5",Yt[3]="M.5,0 L.5,.5 L0,.5",Yt),"\u253a":(Xt={},Xt[1]="M.5,.5 L0,.5",Xt[3]="M.5,0 L.5,.5 L1,.5",Xt),"\u253d":(Vt={},Vt[1]="M.5,0 L.5,1 M.5,.5 L1,.5",Vt[3]="M.5,.5 L0,.5",Vt),"\u253e":(qt={},qt[1]="M.5,0 L.5,1 M.5,.5 L0,.5",qt[3]="M.5,.5 L1,.5",qt),"\u253f":(Jt={},Jt[1]="M.5,0 L.5,1",Jt[3]="M0,.5 L1,.5",Jt),"\u2540":(Kt={},Kt[1]="M0,.5 L1,.5 M.5,.5 L.5,1",Kt[3]="M.5,.5 L.5,0",Kt),"\u2541":($t={},$t[1]="M.5,.5 L.5,0 M0,.5 L1,.5",$t[3]="M.5,.5 L.5,1",$t),"\u2542":(Zt={},Zt[1]="M0,.5 L1,.5",Zt[3]="M.5,0 L.5,1",Zt),"\u2543":(Qt={},Qt[1]="M0.5,1 L.5,.5 L1,.5",Qt[3]="M.5,0 L.5,.5 L0,.5",Qt),"\u2544":(te={},te[1]="M0,.5 L.5,.5 L.5,1",te[3]="M.5,0 L.5,.5 L1,.5",te),"\u2545":(ee={},ee[1]="M.5,0 L.5,.5 L1,.5",ee[3]="M0,.5 L.5,.5 L.5,1",ee),"\u2546":(ie={},ie[1]="M.5,0 L.5,.5 L0,.5",ie[3]="M0.5,1 L.5,.5 L1,.5",ie),"\u2547":(re={},re[1]="M.5,.5 L.5,1",re[3]="M.5,.5 L.5,0 M0,.5 L1,.5",re),"\u2548":(oe={},oe[1]="M.5,.5 L.5,0",oe[3]="M0,.5 L1,.5 M.5,.5 L.5,1",oe),"\u2549":(ne={},ne[1]="M.5,.5 L1,.5",ne[3]="M.5,0 L.5,1 M.5,.5 L0,.5",ne),"\u254a":(se={},se[1]="M.5,.5 L0,.5",se[3]="M.5,0 L.5,1 M.5,.5 L1,.5",se),"\u254c":(ae={},ae[1]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",ae),"\u254d":(le={},le[3]="M.1,.5 L.4,.5 M.6,.5 L.9,.5",le),"\u2504":(he={},he[1]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",he),"\u2505":(ce={},ce[3]="M.0667,.5 L.2667,.5 M.4,.5 L.6,.5 M.7333,.5 L.9333,.5",ce),"\u2508":(ue={},ue[1]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",ue),"\u2509":(de={},de[3]="M.05,.5 L.2,.5 M.3,.5 L.45,.5 M.55,.5 L.7,.5 M.8,.5 L.95,.5",de),"\u254e":(_e={},_e[1]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",_e),"\u254f":(fe={},fe[3]="M.5,.1 L.5,.4 M.5,.6 L.5,.9",fe),"\u2506":(pe={},pe[1]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",pe),"\u2507":(ve={},ve[3]="M.5,.0667 L.5,.2667 M.5,.4 L.5,.6 M.5,.7333 L.5,.9333",ve),"\u250a":(ge={},ge[1]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",ge),"\u250b":(Ce={},Ce[3]="M.5,.05 L.5,.2 M.5,.3 L.5,.45 L.5,.55 M.5,.7 L.5,.95",Ce),"\u256d":(me={},me[1]="C.5,1,.5,.5,1,.5",me),"\u256e":(ye={},ye[1]="C.5,1,.5,.5,0,.5",ye),"\u256f":(we={},we[1]="C.5,0,.5,.5,0,.5",we),"\u2570":(Le={},Le[1]="C.5,0,.5,.5,1,.5",Le)},e.powerlineDefinitions={"\ue0b0":{d:"M0,0 L1,.5 L0,1",type:0},"\ue0b1":{d:"M0,0 L1,.5 L0,1",type:1,horizontalPadding:.5},"\ue0b2":{d:"M1,0 L0,.5 L1,1",type:0},"\ue0b3":{d:"M1,0 L0,.5 L1,1",type:1,horizontalPadding:.5}},e.tryDrawCustomChar=function(t,i,r,o,n,s){var a=e.blockElementDefinitions[i];if(a)return function(t,e,i,r,o,n){for(var s=0;s<e.length;s++){var a=e[s],l=o/8,h=n/8;t.fillRect(i+a.x*l,r+a.y*h,a.w*l,a.h*h)}}(t,a,r,o,n,s),!0;var l=Me[i];if(l)return function(t,e,i,r,o,n){var s,a=Ee.get(e);a||(a=new Map,Ee.set(e,a));var l=t.fillStyle;if("string"!=typeof l)throw new Error('Unexpected fillStyle type "'+l+'"');var h=a.get(l);if(!h){var c=e[0].length,u=e.length,d=document.createElement("canvas");d.width=c,d.height=u;var _=(0,Re.throwIfFalsy)(d.getContext("2d")),f=new ImageData(c,u),p=void 0,v=void 0,g=void 0,C=void 0;if(l.startsWith("#"))p=parseInt(l.slice(1,3),16),v=parseInt(l.slice(3,5),16),g=parseInt(l.slice(5,7),16),C=l.length>7&&parseInt(l.slice(7,9),16)||1;else{if(!l.startsWith("rgba"))throw new Error('Unexpected fillStyle color format "'+l+'" when drawing pattern glyph');p=(s=be(l.substring(5,l.length-1).split(",").map((function(t){return parseFloat(t)})),4))[0],v=s[1],g=s[2],C=s[3]}for(var m=0;m<u;m++)for(var y=0;y<c;y++)f.data[4*(m*c+y)]=p,f.data[4*(m*c+y)+1]=v,f.data[4*(m*c+y)+2]=g,f.data[4*(m*c+y)+3]=e[m][y]*(255*C);_.putImageData(f,0,0),h=(0,Re.throwIfFalsy)(t.createPattern(d,null)),a.set(l,h)}t.fillStyle=h,t.fillRect(i,r,o,n)}(t,l,r,o,n,s),!0;var h=e.boxDrawingDefinitions[i];if(h)return function(t,e,i,r,o,n){var s,a,l,h;t.strokeStyle=t.fillStyle;try{for(var c=xe(Object.entries(e)),u=c.next();!u.done;u=c.next()){var d=be(u.value,2),_=d[0],f=d[1];t.beginPath(),t.lineWidth=window.devicePixelRatio*Number.parseInt(_);var p=void 0;p="function"==typeof f?f(.15,.15/n*o):f;try{for(var v=(l=void 0,xe(p.split(" "))),g=v.next();!g.done;g=v.next()){var C=g.value,m=C[0],y=Se[m];if(y){var w=C.substring(1).split(",");w[0]&&w[1]&&y(t,De(w,o,n,i,r))}else console.error('Could not find drawing instructions for "'+m+'"')}}catch(t){l={error:t}}finally{try{g&&!g.done&&(h=v.return)&&h.call(v)}finally{if(l)throw l.error}}t.stroke(),t.closePath()}}catch(t){s={error:t}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(s)throw s.error}}}(t,h,r,o,n,s),!0;var c=e.powerlineDefinitions[i];return!!c&&(function(t,e,i,r,o,n){var s,a;t.beginPath(),t.lineWidth=window.devicePixelRatio;try{for(var l=xe(e.d.split(" ")),h=l.next();!h.done;h=l.next()){var c=h.value,u=c[0],d=Se[u];if(d){var _=c.substring(1).split(",");_[0]&&_[1]&&d(t,De(_,o,n,i,r,e.horizontalPadding))}else console.error('Could not find drawing instructions for "'+u+'"')}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}1===e.type?(t.strokeStyle=t.fillStyle,t.stroke()):t.fill(),t.closePath()}(t,c,r,o,n,s),!0)};var Ee=new Map;function Ae(t,e,i){return void 0===i&&(i=0),Math.max(Math.min(t,e),i)}var Se={C:function(t,e){return t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5])},L:function(t,e){return t.lineTo(e[0],e[1])},M:function(t,e){return t.moveTo(e[0],e[1])}};function De(t,e,i,r,o,n){void 0===n&&(n=0);var s=t.map((function(t){return parseFloat(t)||parseInt(t)}));if(s.length<2)throw new Error("Too few arguments for instruction");for(var a=0;a<s.length;a+=2)s[a]*=e-2*n*window.devicePixelRatio,0!==s[a]&&(s[a]=Ae(Math.round(s[a]+.5)-.5,e,0)),s[a]+=r+n*window.devicePixelRatio;for(var l=1;l<s.length;l+=2)s[l]*=i,0!==s[l]&&(s[l]=Ae(Math.round(s[l]+.5)-.5,i,0)),s[l]+=o;return s}},634:(t,e)=>{function i(t){return 57508<=t&&t<=57558}Object.defineProperty(e,"__esModule",{value:!0}),e.excludeFromContrastRatioDemands=e.isPowerlineGlyph=e.throwIfFalsy=void 0,e.throwIfFalsy=function(t){if(!t)throw new Error("value must not be falsy");return t},e.isPowerlineGlyph=i,e.excludeFromContrastRatioDemands=function(t){return i(t)||function(t){return 9472<=t&&t<=9631}(t)}},499:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CHAR_ATLAS_CELL_SPACING=e.TEXT_BASELINE=e.DIM_OPACITY=e.INVERTED_DEFAULT_COLOR=void 0;var r=i(399);e.INVERTED_DEFAULT_COLOR=257,e.DIM_OPACITY=.5,e.TEXT_BASELINE=r.isFirefox||r.isLegacyEdge?"bottom":"ideographic",e.CHAR_ATLAS_CELL_SPACING=1},160:function(t,e){var i,r,o,n,s=this&&this.__read||function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,o,n=i.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s};function a(t){var e=t.toString(16);return e.length<2?"0"+e:e}function l(t,e){return t<e?(e+.05)/(t+.05):(t+.05)/(e+.05)}Object.defineProperty(e,"__esModule",{value:!0}),e.contrastRatio=e.toPaddedHex=e.rgba=e.rgb=e.css=e.color=e.channels=void 0,function(t){t.toCss=function(t,e,i,r){return void 0!==r?"#"+a(t)+a(e)+a(i)+a(r):"#"+a(t)+a(e)+a(i)},t.toRgba=function(t,e,i,r){return void 0===r&&(r=255),(t<<24|e<<16|i<<8|r)>>>0}}(i=e.channels||(e.channels={})),(r=e.color||(e.color={})).blend=function(t,e){var r=(255&e.rgba)/255;if(1===r)return{css:e.css,rgba:e.rgba};var o=e.rgba>>24&255,n=e.rgba>>16&255,s=e.rgba>>8&255,a=t.rgba>>24&255,l=t.rgba>>16&255,h=t.rgba>>8&255,c=a+Math.round((o-a)*r),u=l+Math.round((n-l)*r),d=h+Math.round((s-h)*r);return{css:i.toCss(c,u,d),rgba:i.toRgba(c,u,d)}},r.isOpaque=function(t){return 255==(255&t.rgba)},r.ensureContrastRatio=function(t,e,i){var r=n.ensureContrastRatio(t.rgba,e.rgba,i);if(r)return n.toColor(r>>24&255,r>>16&255,r>>8&255)},r.opaque=function(t){var e=(255|t.rgba)>>>0,r=s(n.toChannels(e),3),o=r[0],a=r[1],l=r[2];return{css:i.toCss(o,a,l),rgba:e}},r.opacity=function(t,e){var r=Math.round(255*e),o=s(n.toChannels(t.rgba),3),a=o[0],l=o[1],h=o[2];return{css:i.toCss(a,l,h,r),rgba:i.toRgba(a,l,h,r)}},r.toColorRGB=function(t){return[t.rgba>>24&255,t.rgba>>16&255,t.rgba>>8&255]},(e.css||(e.css={})).toColor=function(t){if(t.match(/#[0-9a-f]{3,8}/i))switch(t.length){case 4:var e=parseInt(t.slice(1,2).repeat(2),16),i=parseInt(t.slice(2,3).repeat(2),16),r=parseInt(t.slice(3,4).repeat(2),16);return n.toColor(e,i,r);case 5:e=parseInt(t.slice(1,2).repeat(2),16),i=parseInt(t.slice(2,3).repeat(2),16),r=parseInt(t.slice(3,4).repeat(2),16);var o=parseInt(t.slice(4,5).repeat(2),16);return n.toColor(e,i,r,o);case 7:return{css:t,rgba:(parseInt(t.slice(1),16)<<8|255)>>>0};case 9:return{css:t,rgba:parseInt(t.slice(1),16)>>>0}}var s=t.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(s)return e=parseInt(s[1]),i=parseInt(s[2]),r=parseInt(s[3]),o=Math.round(255*(void 0===s[5]?1:parseFloat(s[5]))),n.toColor(e,i,r,o);throw new Error("css.toColor: Unsupported css format")},function(t){function e(t,e,i){var r=t/255,o=e/255,n=i/255;return.2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))}t.relativeLuminance=function(t){return e(t>>16&255,t>>8&255,255&t)},t.relativeLuminance2=e}(o=e.rgb||(e.rgb={})),function(t){function e(t,e,i){for(var r=t>>24&255,n=t>>16&255,s=t>>8&255,a=e>>24&255,h=e>>16&255,c=e>>8&255,u=l(o.relativeLuminance2(a,h,c),o.relativeLuminance2(r,n,s));u<i&&(a>0||h>0||c>0);)a-=Math.max(0,Math.ceil(.1*a)),h-=Math.max(0,Math.ceil(.1*h)),c-=Math.max(0,Math.ceil(.1*c)),u=l(o.relativeLuminance2(a,h,c),o.relativeLuminance2(r,n,s));return(a<<24|h<<16|c<<8|255)>>>0}function r(t,e,i){for(var r=t>>24&255,n=t>>16&255,s=t>>8&255,a=e>>24&255,h=e>>16&255,c=e>>8&255,u=l(o.relativeLuminance2(a,h,c),o.relativeLuminance2(r,n,s));u<i&&(a<255||h<255||c<255);)a=Math.min(255,a+Math.ceil(.1*(255-a))),h=Math.min(255,h+Math.ceil(.1*(255-h))),c=Math.min(255,c+Math.ceil(.1*(255-c))),u=l(o.relativeLuminance2(a,h,c),o.relativeLuminance2(r,n,s));return(a<<24|h<<16|c<<8|255)>>>0}t.ensureContrastRatio=function(t,i,n){var s=o.relativeLuminance(t>>8),a=o.relativeLuminance(i>>8);if(l(s,a)<n){if(a<s){var h=e(t,i,n),c=l(s,o.relativeLuminance(h>>8));if(c<n){var u=r(t,t,n);return c>l(s,o.relativeLuminance(u>>8))?h:u}return h}var d=r(t,i,n),_=l(s,o.relativeLuminance(d>>8));return _<n?(u=e(t,t,n),_>l(s,o.relativeLuminance(u>>8))?d:u):d}},t.reduceLuminance=e,t.increaseLuminance=r,t.toChannels=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},t.toColor=function(t,e,r,o){return{css:i.toCss(t,e,r,o),rgba:i.toRgba(t,e,r,o)}}}(n=e.rgba||(e.rgba={})),e.toPaddedHex=a,e.contrastRatio=l},345:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forwardEvent=e.EventEmitter=void 0;var i=function(){function t(){this._listeners=[],this._disposed=!1}return Object.defineProperty(t.prototype,"event",{get:function(){var t=this;return this._event||(this._event=function(e){return t._listeners.push(e),{dispose:function(){if(!t._disposed)for(var i=0;i<t._listeners.length;i++)if(t._listeners[i]===e)return void t._listeners.splice(i,1)}}}),this._event},enumerable:!1,configurable:!0}),t.prototype.fire=function(t,e){for(var i=[],r=0;r<this._listeners.length;r++)i.push(this._listeners[r]);for(r=0;r<i.length;r++)i[r].call(void 0,t,e)},t.prototype.dispose=function(){this._listeners&&(this._listeners.length=0),this._disposed=!0},t}();e.EventEmitter=i,e.forwardEvent=function(t,e){return t((function(t){return e.fire(t)}))}},859:function(t,e){var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.getDisposeArrayDisposable=e.disposeArray=e.Disposable=void 0;var r=function(){function t(){this._disposables=[],this._isDisposed=!1}return t.prototype.dispose=function(){var t,e;this._isDisposed=!0;try{for(var r=i(this._disposables),o=r.next();!o.done;o=r.next())o.value.dispose()}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this._disposables.length=0},t.prototype.register=function(t){return this._disposables.push(t),t},t.prototype.unregister=function(t){var e=this._disposables.indexOf(t);-1!==e&&this._disposables.splice(e,1)},t}();function o(t){var e,r;try{for(var o=i(t),n=o.next();!n.done;n=o.next())n.value.dispose()}catch(t){e={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}t.length=0}e.Disposable=r,e.disposeArray=o,e.getDisposeArrayDisposable=function(t){return{dispose:function(){return o(t)}}}},399:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isLinux=e.isWindows=e.isIphone=e.isIpad=e.isMac=e.isSafari=e.isLegacyEdge=e.isFirefox=void 0;var i="undefined"==typeof navigator,r=i?"node":navigator.userAgent,o=i?"node":navigator.platform;e.isFirefox=r.includes("Firefox"),e.isLegacyEdge=r.includes("Edge"),e.isSafari=/^((?!chrome|android).)*safari/i.test(r),e.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(o),e.isIpad="iPad"===o,e.isIphone="iPhone"===o,e.isWindows=["Windows","Win16","Win32","WinCE"].includes(o),e.isLinux=o.indexOf("Linux")>=0},455:(t,e)=>{function i(t,e,i,r){if(void 0===i&&(i=0),void 0===r&&(r=t.length),i>=t.length)return t;i=(t.length+i)%t.length,r=r>=t.length?t.length:(t.length+r)%t.length;for(var o=i;o<r;++o)t[o]=e;return t}Object.defineProperty(e,"__esModule",{value:!0}),e.concat=e.fillFallback=e.fill=void 0,e.fill=function(t,e,r,o){return t.fill?t.fill(e,r,o):i(t,e,r,o)},e.fillFallback=i,e.concat=function(t,e){var i=new t.constructor(t.length+e.length);return i.set(t),i.set(e,t.length),i}},147:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedAttrs=e.AttributeData=void 0;var i=function(){function t(){this.fg=0,this.bg=0,this.extended=new r}return t.toColorRGB=function(t){return[t>>>16&255,t>>>8&255,255&t]},t.fromColorRGB=function(t){return(255&t[0])<<16|(255&t[1])<<8|255&t[2]},t.prototype.clone=function(){var e=new t;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e},t.prototype.isInverse=function(){return 67108864&this.fg},t.prototype.isBold=function(){return 134217728&this.fg},t.prototype.isUnderline=function(){return 268435456&this.fg},t.prototype.isBlink=function(){return 536870912&this.fg},t.prototype.isInvisible=function(){return 1073741824&this.fg},t.prototype.isItalic=function(){return 67108864&this.bg},t.prototype.isDim=function(){return 134217728&this.bg},t.prototype.isStrikethrough=function(){return 2147483648&this.fg},t.prototype.getFgColorMode=function(){return 50331648&this.fg},t.prototype.getBgColorMode=function(){return 50331648&this.bg},t.prototype.isFgRGB=function(){return 50331648==(50331648&this.fg)},t.prototype.isBgRGB=function(){return 50331648==(50331648&this.bg)},t.prototype.isFgPalette=function(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)},t.prototype.isBgPalette=function(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)},t.prototype.isFgDefault=function(){return 0==(50331648&this.fg)},t.prototype.isBgDefault=function(){return 0==(50331648&this.bg)},t.prototype.isAttributeDefault=function(){return 0===this.fg&&0===this.bg},t.prototype.getFgColor=function(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}},t.prototype.getBgColor=function(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}},t.prototype.hasExtendedAttrs=function(){return 268435456&this.bg},t.prototype.updateExtended=function(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456},t.prototype.getUnderlineColor=function(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()},t.prototype.getUnderlineColorMode=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()},t.prototype.isUnderlineColorRGB=function(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()},t.prototype.isUnderlineColorPalette=function(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()},t.prototype.isUnderlineColorDefault=function(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()},t.prototype.getUnderlineStyle=function(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0},t}();e.AttributeData=i;var r=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=-1),this.underlineStyle=t,this.underlineColor=e}return t.prototype.clone=function(){return new t(this.underlineStyle,this.underlineColor)},t.prototype.isEmpty=function(){return 0===this.underlineStyle},t}();e.ExtendedAttrs=r},782:function(t,e,i){var r,o=this&&this.__extends||(r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},r(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CellData=void 0;var n=i(133),s=i(855),a=i(147),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=0,e.fg=0,e.bg=0,e.extended=new a.ExtendedAttrs,e.combinedData="",e}return o(e,t),e.fromCharData=function(t){var i=new e;return i.setFromCharData(t),i},e.prototype.isCombined=function(){return 2097152&this.content},e.prototype.getWidth=function(){return this.content>>22},e.prototype.getChars=function(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""},e.prototype.getCode=function(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content},e.prototype.setFromCharData=function(t){this.fg=t[s.CHAR_DATA_ATTR_INDEX],this.bg=0;var e=!1;if(t[s.CHAR_DATA_CHAR_INDEX].length>2)e=!0;else if(2===t[s.CHAR_DATA_CHAR_INDEX].length){var i=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=i&&i<=56319){var r=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=r&&r<=57343?this.content=1024*(i-55296)+r-56320+65536|t[s.CHAR_DATA_WIDTH_INDEX]<<22:e=!0}else e=!0}else this.content=t[s.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[s.CHAR_DATA_WIDTH_INDEX]<<22;e&&(this.combinedData=t[s.CHAR_DATA_CHAR_INDEX],this.content=2097152|t[s.CHAR_DATA_WIDTH_INDEX]<<22)},e.prototype.getAsCharData=function(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]},e}(a.AttributeData);e.CellData=l},855:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.WHITESPACE_CELL_CODE=e.WHITESPACE_CELL_WIDTH=e.WHITESPACE_CELL_CHAR=e.NULL_CELL_CODE=e.NULL_CELL_WIDTH=e.NULL_CELL_CHAR=e.CHAR_DATA_CODE_INDEX=e.CHAR_DATA_WIDTH_INDEX=e.CHAR_DATA_CHAR_INDEX=e.CHAR_DATA_ATTR_INDEX=e.DEFAULT_ATTR=e.DEFAULT_COLOR=void 0,e.DEFAULT_COLOR=256,e.DEFAULT_ATTR=256|e.DEFAULT_COLOR<<9,e.CHAR_DATA_ATTR_INDEX=0,e.CHAR_DATA_CHAR_INDEX=1,e.CHAR_DATA_WIDTH_INDEX=2,e.CHAR_DATA_CODE_INDEX=3,e.NULL_CELL_CHAR="",e.NULL_CELL_WIDTH=1,e.NULL_CELL_CODE=0,e.WHITESPACE_CELL_CHAR=" ",e.WHITESPACE_CELL_WIDTH=1,e.WHITESPACE_CELL_CODE=32},133:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Utf8ToUtf32=e.StringToUtf32=e.utf32ToString=e.stringFromCodePoint=void 0,e.stringFromCodePoint=function(t){return t>65535?(t-=65536,String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):String.fromCharCode(t)},e.utf32ToString=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=t.length);for(var r="",o=e;o<i;++o){var n=t[o];n>65535?(n-=65536,r+=String.fromCharCode(55296+(n>>10))+String.fromCharCode(n%1024+56320)):r+=String.fromCharCode(n)}return r};var i=function(){function t(){this._interim=0}return t.prototype.clear=function(){this._interim=0},t.prototype.decode=function(t,e){var i=t.length;if(!i)return 0;var r=0,o=0;this._interim&&(56320<=(a=t.charCodeAt(o++))&&a<=57343?e[r++]=1024*(this._interim-55296)+a-56320+65536:(e[r++]=this._interim,e[r++]=a),this._interim=0);for(var n=o;n<i;++n){var s=t.charCodeAt(n);if(55296<=s&&s<=56319){if(++n>=i)return this._interim=s,r;var a;56320<=(a=t.charCodeAt(n))&&a<=57343?e[r++]=1024*(s-55296)+a-56320+65536:(e[r++]=s,e[r++]=a)}else 65279!==s&&(e[r++]=s)}return r},t}();e.StringToUtf32=i;var r=function(){function t(){this.interim=new Uint8Array(3)}return t.prototype.clear=function(){this.interim.fill(0)},t.prototype.decode=function(t,e){var i=t.length;if(!i)return 0;var r,o,n,s,a=0,l=0,h=0;if(this.interim[0]){var c=!1,u=this.interim[0];u&=192==(224&u)?31:224==(240&u)?15:7;for(var d=0,_=void 0;(_=63&this.interim[++d])&&d<4;)u<<=6,u|=_;for(var f=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,p=f-d;h<p;){if(h>=i)return 0;if(128!=(192&(_=t[h++]))){h--,c=!0;break}this.interim[d++]=_,u<<=6,u|=63&_}c||(2===f?u<128?h--:e[a++]=u:3===f?u<2048||u>=55296&&u<=57343||65279===u||(e[a++]=u):u<65536||u>1114111||(e[a++]=u)),this.interim.fill(0)}for(var v=i-4,g=h;g<i;){for(;!(!(g<v)||128&(r=t[g])||128&(o=t[g+1])||128&(n=t[g+2])||128&(s=t[g+3]));)e[a++]=r,e[a++]=o,e[a++]=n,e[a++]=s,g+=4;if((r=t[g++])<128)e[a++]=r;else if(192==(224&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(o=t[g++]))){g--;continue}if((l=(31&r)<<6|63&o)<128){g--;continue}e[a++]=l}else if(224==(240&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(o=t[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=o,a;if(128!=(192&(n=t[g++]))){g--;continue}if((l=(15&r)<<12|(63&o)<<6|63&n)<2048||l>=55296&&l<=57343||65279===l)continue;e[a++]=l}else if(240==(248&r)){if(g>=i)return this.interim[0]=r,a;if(128!=(192&(o=t[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=o,a;if(128!=(192&(n=t[g++]))){g--;continue}if(g>=i)return this.interim[0]=r,this.interim[1]=o,this.interim[2]=n,a;if(128!=(192&(s=t[g++]))){g--;continue}if((l=(7&r)<<18|(63&o)<<12|(63&n)<<6|63&s)<65536||l>1114111)continue;e[a++]=l}}return a},t}();e.Utf8ToUtf32=r}},e={};function i(r){var o=e[r];if(void 0!==o)return o.exports;var n=e[r]={exports:{}};return t[r].call(n.exports,n,n.exports,i),n.exports}var r={};return(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.WebglAddon=void 0;var e=i(666),o=i(345),n=i(399),s=function(){function t(t){this._preserveDrawingBuffer=t,this._onContextLoss=new o.EventEmitter}return Object.defineProperty(t.prototype,"onContextLoss",{get:function(){return this._onContextLoss.event},enumerable:!1,configurable:!0}),t.prototype.activate=function(t){var i=this;if(!t.element)throw new Error("Cannot activate WebglAddon before Terminal.open");if(n.isSafari)throw new Error("Webgl is not currently supported on Safari");this._terminal=t;var r=t._core._renderService,o=t._core._characterJoinerService,s=t._core._decorationService,a=t._core._colorManager.colors;this._renderer=new e.WebglRenderer(t,a,o,s,this._preserveDrawingBuffer),this._renderer.onContextLoss((function(){return i._onContextLoss.fire()})),r.setRenderer(this._renderer)},t.prototype.dispose=function(){if(!this._terminal)throw new Error("Cannot dispose WebglAddon because it is activated");var t=this._terminal._core._renderService;t.setRenderer(this._terminal._core._createRenderer()),t.onResize(this._terminal.cols,this._terminal.rows),this._renderer=void 0},Object.defineProperty(t.prototype,"textureAtlas",{get:function(){var t;return null===(t=this._renderer)||void 0===t?void 0:t.textureAtlas},enumerable:!1,configurable:!0}),t.prototype.clearTextureAtlas=function(){var t;null===(t=this._renderer)||void 0===t||t.clearCharAtlas()},t}();t.WebglAddon=s})(),r})()},3368:function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}i.d(e,{Z:function(){return o}})}}]);
//# sourceMappingURL=969-2a39c533713a99ad.js.map